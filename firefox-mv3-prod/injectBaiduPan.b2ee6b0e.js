var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,_,T,E,o){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},I="function"==typeof r[E]&&r[E],i=I.cache||{},S="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function A(e,_){if(!i[e]){if(!t[e]){var T="function"==typeof r[E]&&r[E];if(!_&&T)return T(e,!0);if(I)return I(e,!0);if(S&&"string"==typeof e)return S(e);var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}s.resolve=function(_){var T=t[e][1][_];return null!=T?T:_},s.cache={};var p=i[e]=new A.Module(e);t[e][0].call(p.exports,s,p,p.exports,this)}return i[e].exports;function s(e){var t=s.resolve(e);return!1===t?{}:A(t)}}A.isParcelRequire=!0,A.Module=function(e){this.id=e,this.bundle=A,this.exports={}},A.modules=t,A.cache=i,A.parent=I,A.register=function(e,_){t[e]=[function(e,t){t.exports=_},{}]},Object.defineProperty(A,"root",{get:function(){return r[E]}}),r[E]=A;for(var p=0;p<_.length;p++)A(_[p]);if(T){var s=A(T);"object"==typeof exports&&"undefined"!=typeof module?module.exports=s:"function"==typeof e&&e.amd?e(function(){return s}):o&&(this[o]=s)}}({"61rsh":[function(e,t,_){var T=e("~tools/constants"),E=e("./parseM3USubtitles");let o=window,r=document;!function(e){let t=XMLHttpRequest.prototype,_=t.open,I=t.send,i=t.setRequestHeader;t.open=function(e,t){return this._method=e,this._url=t,this._requestHeaders={},this._startTime=new Date().toISOString(),_.apply(this,arguments)},t.setRequestHeader=function(e,t){return this._requestHeaders[e]=t,i.apply(this,arguments)},t.send=function(e){return this.addEventListener("load",function(){if("string"!=typeof this?._url)return;let t=this._url;if(t&&t.includes(T.FILTER_SUBTITLE_URL_IN_BAIDUPAN_1)&&t.includes(T.FILTER_SUBTITLE_URL_IN_BAIDUPAN_2)){if(e&&"string"==typeof e)try{this._requestHeaders=e}catch(e){console.error("ERROR from inject.ts\u3002Request Header JSON decode failed, transfer_encoding field could be base64",e)}this.getAllResponseHeaders();try{let e=this.responseText;if(e?.includes("SUBTITLES")&&e?.includes("EXTM3U")){let e=this.responseText,t=(0,E.parseM3USubtitles)(e);o.postMessage({postMsgType:T.INIT_SUBTITLENODES},r.baseURI);let _="",I="";for(let e=0;e<t.length;e++)t[e].name.includes("\u4e2d")?_=t[e].url:t[e].name.includes("\u82f1")&&(I=t[e].url);_||I?o.postMessage({postMsgType:T.SENT_BAIDUPAN_SUBTITLE_API_URL,enSubUrl:I,zhSubUrl:_},r.baseURI):o.postMessage({postMsgType:T.NO_SUBTITLENODES_DATA},r.baseURI)}}catch(e){console.error("ERROR from inject.ts\u3002RESPONSE failed,",e)}}}),I.apply(this,arguments)}}(XMLHttpRequest)},{"~tools/constants":"DgB7r","./parseM3USubtitles":"68mye"}],DgB7r:[function(e,t,_){var T=e("@parcel/transformer-js/src/esmodule-helpers.js");T.defineInteropFlag(_),T.export(_,"SUBTITLE_LIST_PADDING_SIZE",()=>E),T.export(_,"SUBTITLE_LIST_WIDTH",()=>o),T.export(_,"DEFAULT_ROW_HEIGHT",()=>r),T.export(_,"SUBTITLE_LIST_TTS_TEXT_WIDTH",()=>I),T.export(_,"SUBTITLE_LIST_HEIGHT",()=>i),T.export(_,"DRAGGABLE_HANDLE_HEIGHT",()=>S),T.export(_,"CLOSE_SVG_REM_COUNT",()=>A),T.export(_,"SUBTITLE_LIST_ROW_HEIGHT",()=>p),T.export(_,"BWP_VIDEO",()=>s),T.export(_,"VIDEO_PAUSE",()=>L),T.export(_,"KEY_DOWN",()=>l),T.export(_,"CLICK_SUBTITLE",()=>a),T.export(_,"SENT_BILIBILI_AI_SUBTITLE_URL",()=>O),T.export(_,"SENT_YOUTUBE_SUBTITLE_API_URL",()=>n),T.export(_,"SENT_BAIDUPAN_SUBTITLE_API_URL",()=>R),T.export(_,"INIT_SUBTITLENODES",()=>u),T.export(_,"NO_SUBTITLENODES_DATA",()=>U),T.export(_,"FILTER_SUBTITLE_IN_WEBREQUEST",()=>x),T.export(_,"FILTER_SUBTITLE_URL_IN_BAIDUPAN_1",()=>D),T.export(_,"FILTER_SUBTITLE_URL_IN_BAIDUPAN_2",()=>d),T.export(_,"FILTER_SUBTITLE_IN_YOUTUBE_URL",()=>B),T.export(_,"NEXT",()=>c),T.export(_,"PRE",()=>G),T.export(_,"ADD",()=>N),T.export(_,"SUB",()=>m),T.export(_,"VIDEO_MASK",()=>M),T.export(_,"SUB_MASK",()=>f),T.export(_,"REPEAT",()=>b),T.export(_,"VARIABLE_REPEAT",()=>g),T.export(_,"FOLLOW_READ",()=>C),T.export(_,"FULL_MASK",()=>h),T.export(_,"SUBTITLE_LIST",()=>H),T.export(_,"SUBTITLE",()=>P),T.export(_,"ZHSUBTITLE",()=>V),T.export(_,"DEFAULT_MAX_PAUSE_TIME",()=>F),T.export(_,"STORAGE_AI_SESSION_LIST",()=>y),T.export(_,"STORAGE_AI_MESSAGE_HISTORY",()=>v),T.export(_,"STORAGE_RANDOMUUID",()=>w),T.export(_,"STORAGE_ALWAY_REPEAT_PLAY",()=>W),T.export(_,"STORAGE_PLAYED_THEN_PAUSE",()=>Y),T.export(_,"STORAGE_SHOW_EN_DEFINITION",()=>K),T.export(_,"STORAGE_SHOW_HOVER_DICT",()=>Z),T.export(_,"STORAGE_SHOW_VIP_MEMBER_MARK",()=>j),T.export(_,"STORAGE_REPLAY_TIMES",()=>k),T.export(_,"STORAGE_MAX_PAUSE_TIME",()=>z),T.export(_,"STORAGE_SUBTITLELIST_TABS_KEY",()=>X),T.export(_,"STORAGE_SUBTITLELIST_LANGUAGE_MODE_TO_SHOW",()=>q),T.export(_,"STORAGE_SUBTITLELIST_TABS_SCROLL",()=>J),T.export(_,"STORAGE_SHOWSUBTITLE",()=>Q),T.export(_,"STORAGE_SHOWZHSUBTITLE",()=>$),T.export(_,"STORAGE_SHOWSUBTITLELIST",()=>ee),T.export(_,"STORAGE_SHOWTTSSUBTITLELIST",()=>et),T.export(_,"STORAGE_DRAGGABLESUBTITLELISTX",()=>e_),T.export(_,"STORAGE_DRAGGABLESUBTITLELISTY",()=>eT),T.export(_,"STORAGE_SHOWDRAGGABLE_AI_CHAT",()=>eE),T.export(_,"STORAGE_AI_CHAT_INPUT_VALUE",()=>eo),T.export(_,"STORAGE_DRAGGABLE_AI_CHAT_X",()=>er),T.export(_,"STORAGE_DRAGGABLE_AI_CHAT_Y",()=>eI),T.export(_,"STORAGE_SIDEPANEL_ACTIVE_AI_TAB",()=>ei),T.export(_,"STORAGE_BILIBILI_TRANSLATE_SELECT_LANG",()=>eS),T.export(_,"STORAGE_SHOWVIDEOMASK",()=>eA),T.export(_,"STORAGE_SHOWSUBTITLELISTMASK",()=>ep),T.export(_,"STORAGE_SHOWFLOATBALL",()=>es),T.export(_,"STORAGE_DISABLESHORTCUTS",()=>eL),T.export(_,"STORAGE_ALL_SHORTCUTS",()=>el),T.export(_,"STORAGE_VIDEO_MASK_HEIGHT",()=>ea),T.export(_,"STORAGE_DEFAULT_VIDEO_MASK_HEIGHT",()=>eO),T.export(_,"STORAGE_FOLLOW_READ_TIMES",()=>en),T.export(_,"STORAGE_DEFAULT_FOLLOW_READ_TIMES",()=>eR),T.export(_,"STORAGE_FOLLOW_READ_LENGTH",()=>eu),T.export(_,"STORAGE_DEFAULT_FOLLOW_READ_LENGTH",()=>eU),T.export(_,"STORAGE_POST_IDLETIME_ACTIVETIME_LOCK",()=>ex),T.export(_,"STORAGE_IDLETIME_VIDEO_ACTIVETIME",()=>eD),T.export(_,"STORAGE_IDLETIME_DRAGGABLESUBTITLELIST_ACTIVETIME",()=>ed),T.export(_,"STORAGE_IDLETIME_NEXTJSSUBTITLELIST_ACTIVETIME",()=>eB),T.export(_,"STORAGE_IDLETIME_DRAGGABLEDICT_ACTIVETIME",()=>ec),T.export(_,"STORAGE_IDLETIME_YOUTUBESUBTITLELIST_ACTIVETIME",()=>eG),T.export(_,"STORAGE_IDLETIME_VIDEO_ACTIVETIME_OTHER",()=>eN),T.export(_,"STORAGE_IDLETIME_VIDEO_ACTIVETIME_YOUTUBE",()=>em),T.export(_,"STORAGE_IDLETIME_VIDEO_ACTIVETIME_BILIBILI",()=>eM),T.export(_,"STORAGE_IDLETIME_VIDEO_ACTIVETIME_1ZIMU",()=>ef),T.export(_,"STORAGE_IDLETIME_VIDEO_ACTIVETIME_BAIDUPAN",()=>eb),T.export(_,"STORAGE_IDLETIME_DRAGGABLETTSSUBTITLELIST_ACTIVETIME",()=>eg),T.export(_,"STORAGE_IDLETIME_DRAGGABLE_AICHAT_ACTIVETIME",()=>eC),T.export(_,"STORAGE_IDLETIME_SIDEPANEL_DEEPSEEK_ACTIVETIME",()=>eh),T.export(_,"STORAGE_IDLETIME_SIDEPANEL_DOUBAO_ACTIVETIME",()=>eH),T.export(_,"STORAGE_IDLETIME_SIDEPANEL_KIMI_ACTIVETIME",()=>eP),T.export(_,"STORAGE_IDLETIME_SIDEPANEL_QIANWEN_ACTIVETIME",()=>eV),T.export(_,"STORAGE_IDLETIME_SIDEPANEL_CHATGPT_ACTIVETIME",()=>eF),T.export(_,"STORAGE_IDLETIME_SIDEPANEL_CLAUDE_ACTIVETIME",()=>ey),T.export(_,"STORAGE_IDLETIME_SIDEPANEL_GEMINI_ACTIVETIME",()=>ev),T.export(_,"STORAGE_IDLETIME_SIDEPANEL_GROK_ACTIVETIME",()=>ew),T.export(_,"STORAGE_IDLETIME_SIDEPANEL_LINGGUANG_ACTIVETIME",()=>eW),T.export(_,"STORAGE_AZURE_KEY_CODE",()=>eY),T.export(_,"STORAGE_AZURE_KEY_AREA",()=>eK),T.export(_,"STORAGE_FAVORITES_DICTS",()=>eZ),T.export(_,"STORAGE_MASK_BACKDROP_BLUR_SHOW",()=>ej),T.export(_,"STORAGE_DEFAULT_MASK_BACKDROP_BLUR_SHOW",()=>ek),T.export(_,"STORAGE_MASK_BACKDROP_BLUR_COLOR",()=>ez),T.export(_,"STORAGE_DEFAULT_MASK_BACKDROP_BLUR_COLOR",()=>eX),T.export(_,"STORAGE_USER_INFO",()=>eq),T.export(_,"IDLETIME_STORAGE_DEFAULT_VALUE",()=>eJ),T.export(_,"FAVORITES_DICTS_DEFAULT_VALUE",()=>eQ),T.export(_,"ALL_SHORT_CUTS",()=>e$),T.export(_,"COLOR_PRIMARY",()=>e1),T.export(_,"FONT_SIZE",()=>e0),T.export(_,"FONT_SANS",()=>e3),T.export(_,"FONT_SERIF",()=>e2),T.export(_,"FONT_MONO",()=>e5),T.export(_,"SUBTITLE_FONT_FAMILY",()=>e6),T.export(_,"FONT_WEIGHT",()=>e8),T.export(_,"LINE_HEIGHT",()=>e4),T.export(_,"ZIMU1_USESTORAGE_SYNC_JWT",()=>e7),T.export(_,"ZIMU1_USESTORAGE_SYNC_HEADIMGURL",()=>e9),T.export(_,"ZIMU1_USESTORAGE_SYNC_NICKNAME",()=>te),T.export(_,"ZIMU1_USESTORAGE_SYNC_PAID",()=>tt),T.export(_,"DRAGGABLE_NODE_CONTAINER_WIDTH",()=>t_),T.export(_,"DRAGGABLE_NODE_CONTAINER_HEIGHT",()=>tT),T.export(_,"DRAGGABLE_NODE_CONTAINER_X",()=>tE),T.export(_,"DRAGGABLE_NODE_CONTAINER_Y",()=>to),T.export(_,"IDLE_TIME_OUT",()=>tr),T.export(_,"DARK_BG_COLOR",()=>tI),T.export(_,"REPEAT_INIT_TIMES",()=>ti),T.export(_,"REPEAT_UI_INIT_TIMES",()=>tS),T.export(_,"VARIABLE_REPEAT_INIT_TIMES",()=>tA),T.export(_,"VARIABLE_REPEAT_UI_INIT_TIMES",()=>tp),T.export(_,"YOUTUBE_SUBTITLELIST_WATCH_URL",()=>ts),T.export(_,"YOUTUBE_SUBTITLELIST_WATCH_URL_EMBED",()=>tL),T.export(_,"ZIMU1_SUBTITLELIST_WATCH_URL",()=>tl),T.export(_,"CASCADER_OPTION_MIX",()=>ta),T.export(_,"CASCADER_OPTION_ZH",()=>tO),T.export(_,"CASCADER_OPTION_FOREIGN",()=>tn),T.export(_,"STORAGE_SUBTITLE_FOREIGN_FONTSIZE",()=>tR),T.export(_,"STORAGE_SUBTITLE_ZH_FONTSIZE",()=>tu),T.export(_,"SUBTITLE_FOREIGN_FONT_SIZE",()=>tU),T.export(_,"STORAGE_SUBTITLELIST_FOREIGN_FONTSIZE",()=>tx),T.export(_,"STORAGE_SUBTITLELIST_ZH_FONTSIZE",()=>tD),T.export(_,"STORAGE_ARTICLE_FONTSIZE",()=>td),T.export(_,"STORAGE_SUBTITLE_FONT_FAMILY",()=>tB),T.export(_,"STORAGE_SUBTITLE_NO",()=>tc),T.export(_,"STORAGE_SUBTITLE_NO_CURRENT_TIME",()=>tG),T.export(_,"STORAGE_SIDEPANEL_LAST_HEARTBEAT",()=>tN),T.export(_,"STORAGE_POPUP_ACTIVE_TAB_KEY",()=>tm),T.export(_,"BILIBILI_COM",()=>tM),T.export(_,"YOUTUBE_COM",()=>tf),T.export(_,"ZIMU1_COM",()=>tb),T.export(_,"PAN_BAIDU_COM",()=>tg),T.export(_,"PAN_BAIDU_COM_VIDEO",()=>tC),T.export(_,"YOUTUBESUBTITLELIST",()=>th),T.export(_,"NEXTJSSUBTITLELIST",()=>tH),T.export(_,"BILIBILISUBTITLESWITCH",()=>tP),T.export(_,"YOUTUBESUBTITLESWITCH",()=>tV),T.export(_,"BAIDUPANSUBTITLESWITCH",()=>tF),T.export(_,"DRAGGABLESUBTITLELIST",()=>ty),T.export(_,"YOUTUBE_VALID_ORIGINS",()=>tv),T.export(_,"BILIBILI_VALID_ORIGINS",()=>tw),T.export(_,"ZIMU1_VALID_ORIGINS",()=>tW),T.export(_,"BAIDUPAN_VALID_ORIGINS",()=>tY),T.export(_,"JWT_IS_FALSE",()=>tK),T.export(_,"DEFAULT_USER_INFO",()=>tZ),T.export(_,"HEARTBEAT_INTERVAL",()=>tj),T.export(_,"SIDEPANEL_TIMEOUT",()=>tk);let E=1,o=300,r=80,I=600,i=500,S=16,A=2,p=36,s="bwp-video",L="VIDEO_PAUSE",l="KEY_DOWN",a="CLICK_SUBTITLE",O="SENT_BILIBILI_AI_SUBTITLE_URL",n="SENT_YOUTUBE_SUBTITLE_API_URL",R="SENT_BAIDUPAN_SUBTITLE_API_URL",u="INIT_SUBTITLENODES",U="NO_SUBTITLENODES_DATA",x="api.bilibili.com/x/player/wbi/v2",D="/api/streaming",d="M3U8_SUBTITLE_SRT",B=".com/api/timedtext",c="K",G="J",N="I",m="U",M="H",f="L",b="R",g="Q",C="F",h="A",H="V",P="S",V="C",F=20,y="ai_session_list",v="ai_message_history",w="storage_randomUUID",W="alwaysRepeatPlay",Y="playedThenPause",K="showEnDefinition",Z="hoverDict",j="showVipMemberMark",k="storage_replay_times",z="storage_max_pause_time",X="subtitlelistTabsKey",q="subtitlelistLanguageModeToShow",J="subtitlelistTabsScroll",Q="showSubtitle",$="showZhSubtitle",ee="showSubtitleList",et="showTTSSubtitleList",e_="draggableSubtitleListX",eT="draggableSubtitleListY",eE="showDraggableAIChat",eo="storage_ai_chat_input_value",er="showDraggableAIChatX",eI="showDraggableAIChatY",ei="sidepanel_active_ai_tab",eS="bilibiliTranslateSelectLang",eA="showVideoMask",ep="showSubtitleListMask",es="showFloatBall",eL="disableShortcuts",el="allShortcuts",ea="videoMaskHeight",eO=80,en="followReadTimes",eR=3,eu="followReadLength",eU=1.5,ex="storage_post_idletime_activetime_lock",eD="idleTimeVideoActivetime",ed="idleTimeDraggableSubListActivetime",eB="idleTimeNextjsSubListActivetime",ec="idleTimeDraggableDictActivetime",eG="idleTimeYoutubeSubListActivetime",eN="idleTimeVideoActivetimeOther",em="idleTimeVideoActivetimeYoutube",eM="idleTimeVideoActivetimeBilibili",ef="idleTimeVideoActivetime1zimu",eb="idleTimeVideoActivetimeBaidupan",eg="idleTimeDraggableTTSSubListActivetime",eC="idleTimeDraggableAIChatActivetime",eh="idleTimeSidepanelDeepseekActivetime",eH="idleTimeSidepanelDoubaoActivetime",eP="idleTimeSidepanelKimiActivetime",eV="idleTimeSidepanelQianwenActivetime",eF="idleTimeSidepanelChatgptActivetime",ey="idleTimeSidepanelClaudeActivetime",ev="idleTimeSidepanelGeminiActivetime",ew="idleTimeSidepanelGrokActivetime",eW="idleTimeSidepanelLingguangActivetime",eY="storage_azure_key_code",eK="storage_azure_key_area",eZ="storage_favorites_dicts",ej="maskBackdropBlurPxValue",ek=!0,ez="maskBackdropBlurColor",eX="rgba(255, 255, 255, 0.3)",eq="storage_user_info",eJ={default:""},eQ=[],e$={next:c,pre:G,add:N,sub:m,videoMask:M,subMask:f,repeat:b,variableRepeat:g,followRead:C,fullMask:h,subtitleList:H,subtitle:P,zhSubtitle:V},e1="#16a34a",e0="21px",e3='ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";',e2='ui-serif, Georgia, Cambria, "Times New Roman", Times, serif',e5='ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',e6=[{value:1,label:"font-sans",origin:e3},{value:2,label:"font-serif",origin:e2},{value:3,label:"font-mono",origin:e5}],e8="700",e4="1.25",e7="zimu1_useStorage_sync_jwt",e9="zimu1_useStorage_sync_headimgurl",te="zimu1_useStorage_sync_nickname",tt="zimu1_useStorage_sync_paid",t_=1e3,tT=480,tE=150,to=150,tr=30,tI="#1e1e1e",ti=5,tS=ti+1,tA=10,tp=tA+1,ts="youtube.com/watch",tL="youtube.com/embed",tl="1zimu.com/player",ta="mix",tO="zh",tn="foreign",tR="storageSubtitleForeignFontsize",tu="storageSubtitleZhFontsize",tU=16,tx="storageSubtitlelistForeignFontsize",tD="storageSubtitlelistZhFontsize",td="storageArticleFontsize",tB="storage_subtitle_font_family",tc="storage_subtitle_no",tG="storage_subtitle_no_current_time",tN="sidepanel_last_heartbeat",tm="popup_active_tab_key",tM="bilibili.com",tf="youtube.com",tb="1zimu.com",tg="pan.baidu.com",tC="pan.baidu.com/pfile/video",th="YoutubeSubtitleList",tH="NextjsSubtitleList",tP="BilibiliSubtitleSwitch",tV="YoutubeSubtitleSwitch",tF="BaidupanSubtitleSwitch",ty="DraggableSubtitleList",tv=["https://www.youtube.com","https://youtube.com"],tw=["https://www.bilibili.com","https://bilibili.com"],tW=["https://www.1zimu.com","https://1zimu.com"],tY=["https://pan.baidu.com/pfile/video","https://pan.baidu.com"],tK="jwt is false",tZ={documentId:void 0,zm1_expired_or_not:!0},tj=2e3,tk=4e3},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(e,t,_){_.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},_.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},_.exportAll=function(e,t){return Object.keys(e).forEach(function(_){"default"===_||"__esModule"===_||t.hasOwnProperty(_)||Object.defineProperty(t,_,{enumerable:!0,get:function(){return e[_]}})}),t},_.export=function(e,t,_){Object.defineProperty(e,t,{enumerable:!0,get:_})}},{}],"68mye":[function(e,t,_){var T=e("@parcel/transformer-js/src/esmodule-helpers.js");function E(e){let t=e.split("\n"),_=[],T={};for(let e=0;e<t.length;e++){let E=t[e].trim();if(E.startsWith("#EXT-X-MEDIA:")){let e=E.substring(13).split(",");for(let t of(T={},e)){let[e,_]=t.split("=");if(e&&_){let t=_.replace(/"/g,"");"NAME"===e&&(T.name=t),"LANGUAGE"===e&&(T.language=t)}}}else E.startsWith("http")&&Object.keys(T).length>0&&(_.push({name:T.name||"",language:T.language||"",url:E}),T={})}return _}T.defineInteropFlag(_),T.export(_,"parseM3USubtitles",()=>E)},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}]},["61rsh"],"61rsh","parcelRequiree1df"),globalThis.define=t;