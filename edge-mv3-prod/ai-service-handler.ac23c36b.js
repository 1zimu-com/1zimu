var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,a,r,o,n){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof i[o]&&i[o],d=l.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,a){if(!d[e]){if(!t[e]){var r="function"==typeof i[o]&&i[o];if(!a&&r)return r(e,!0);if(l)return l(e,!0);if(c&&"string"==typeof e)return c(e);var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}p.resolve=function(a){var r=t[e][1][a];return null!=r?r:a},p.cache={};var s=d[e]=new u.Module(e);t[e][0].call(s.exports,p,s,s.exports,this)}return d[e].exports;function p(e){var t=p.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=t,u.cache=d,u.parent=l,u.register=function(e,a){t[e]=[function(e,t){t.exports=a},{}]},Object.defineProperty(u,"root",{get:function(){return i[o]}}),i[o]=u;for(var s=0;s<a.length;s++)u(a[s]);if(r){var p=u(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof e&&e.amd?e(function(){return p}):n&&(this[n]=p)}}({"6Sa8I":[function(e,t,a){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(a),r.export(a,"config",()=>n),r.export(a,"default",()=>i);var o=e("~tools/logger");let n={matches:["https://chat.deepseek.com/*","https://www.doubao.com/*","https://www.kimi.com/*","https://www.qianwen.com/*","https://chatgpt.com/*","https://claude.ai/*","https://gemini.google.com/*","https://x.ai/*","https://www.lingguang.com/chat/*"],run_at:"document_end",all_frames:!0};function i(){return null}(0,o.logger).log("AI Service Handler loaded for:",window.location.href),window.addEventListener("message",e=>{if((0,o.logger).log("Message received:",e.data),"FILL_INPUT"===e.data.type){let{text:t,service:a}=e.data;(0,o.logger).log("Filling input with:",{text:t,service:a}),function(e,t){let a="";switch(t){case"deepseek":a='textarea[placeholder*="\u7ed9 DeepSeek \u53d1\u9001\u6d88\u606f"], textarea[placeholder*="DeepSeek"], textarea[placeholder*="\u53d1\u9001\u6d88\u606f"], textarea, div[contenteditable="true"]';break;case"kimi":a='div.chat-input-editor[data-lexical-editor="true"], div[contenteditable="true"][class*="chat-input"], div[contenteditable="true"][data-lexical-editor="true"], textarea[placeholder*="\u8bf7\u8f93\u5165"], textarea, div[contenteditable="true"]';break;case"doubao":a='textarea[data-testid="chat_input_input"], textarea[placeholder*="\u53d1\u6d88\u606f"], textarea[placeholder*="\u8bf7\u8f93\u5165"], textarea, div[contenteditable="true"]';break;case"qianwen":a='textarea[placeholder*="\u5411\u5343\u95ee\u63d0\u95ee"], textarea[placeholder*="\u8bf7\u8f93\u5165"], textarea.ant-input, textarea, div[contenteditable="true"]';break;case"chatgpt":a='#prompt-textarea, textarea[placeholder*="Message ChatGPT"], textarea[placeholder*="Ask anything"], textarea[data-id="root"], textarea, div[contenteditable="true"]';break;case"claude":a='div[contenteditable="true"][class*="ProseMirror"], div[contenteditable="true"][data-testid="chat-input"], div[contenteditable="true"], textarea[placeholder*="Talk to Claude"], textarea, div[contenteditable="true"]';break;case"gemini":a='div.ql-editor.textarea.new-input-ui[contenteditable="true"], div[contenteditable="true"][class*="ql-editor"], div[contenteditable="true"][aria-label*="\u63d0\u793a"], textarea[placeholder*="\u95ee\u95ee Gemini"], textarea[aria-label*="\u63d0\u793a"], div[contenteditable="true"]';break;case"grok":a='textarea[name="query"][placeholder*="What do you want to know?"], textarea[placeholder*="What do you want to know?"], textarea[name="query"], textarea[placeholder*="What"], textarea, div[contenteditable="true"]';break;case"lingguang":a='textarea[placeholder*="\u95ee\u4e00\u95ee \u7075\u5149"], textarea.ant-input, textarea[placeholder*="\u7075\u5149"], textarea';break;default:a='textarea, input[type="text"], div[contenteditable="true"]'}(0,o.logger).log("inputSelector :>> ",a);let r=0,n=()=>{if(++r>15)return;let t=null,i=a.split(",").filter(e=>e.includes("placeholder")),l=a.split(",").filter(e=>!i.includes(e));for(let e of[...i,...l]){let a=document.querySelectorAll(e.trim());for(let e of a){let a=e.getBoundingClientRect(),r=a.width>0&&a.height>0&&"hidden"!==window.getComputedStyle(e).visibility&&"none"!==window.getComputedStyle(e).display;if(r){t=e;break}}if(t)break}if(!t&&r<15){setTimeout(n,200);return}if(t)try{if(t.focus(),"DIV"===t.tagName&&"true"===t.getAttribute("contenteditable")){t.textContent=e;let a=new InputEvent("input",{bubbles:!0,cancelable:!0,data:e});t.dispatchEvent(a)}else{let a=t;a.value=e;let r=new Event("input",{bubbles:!0}),o=new Event("change",{bubbles:!0});a.dispatchEvent(r),a.dispatchEvent(o)}(0,o.logger).log("Successfully filled input with text")}catch(e){console.error("Error filling input:",e)}};n()}(t,a)}}),document.addEventListener("DOMContentLoaded",()=>{})},{"~tools/logger":"1qe3F","@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],"1qe3F":[function(e,t,a){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(a),r.export(a,"logger",()=>o);let o=new class{constructor(){this.isProduction=!0}log(...e){this.isProduction||console.log(...e)}info(...e){this.isProduction||console.info(...e)}error(...e){this.isProduction||console.error(...e)}warn(...e){this.isProduction||console.warn(...e)}debug(...e){this.isProduction||console.debug(...e)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(e,t,a){a.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},a.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.exportAll=function(e,t){return Object.keys(e).forEach(function(a){"default"===a||"__esModule"===a||t.hasOwnProperty(a)||Object.defineProperty(t,a,{enumerable:!0,get:function(){return e[a]}})}),t},a.export=function(e,t,a){Object.defineProperty(e,t,{enumerable:!0,get:a})}},{}]},["6Sa8I"],"6Sa8I","parcelRequiree1df"),globalThis.define=t;