var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,o,r,n,a){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i="function"==typeof s[n]&&s[n],l=i.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,o){if(!l[e]){if(!t[e]){var r="function"==typeof s[n]&&s[n];if(!o&&r)return r(e,!0);if(i)return i(e,!0);if(c&&"string"==typeof e)return c(e);var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}f.resolve=function(o){var r=t[e][1][o];return null!=r?r:o},f.cache={};var d=l[e]=new u.Module(e);t[e][0].call(d.exports,f,d,d.exports,this)}return l[e].exports;function f(e){var t=f.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=t,u.cache=l,u.parent=i,u.register=function(e,o){t[e]=[function(e,t){t.exports=o},{}]},Object.defineProperty(u,"root",{get:function(){return s[n]}}),s[n]=u;for(var d=0;d<o.length;d++)u(o[d]);if(r){var f=u(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof e&&e.amd?e(function(){return f}):a&&(this[a]=f)}}({"3Eq6o":[function(e,t,o){let r;var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(o),n.export(o,"config",()=>l);var a=e("react-toastify"),s=e("@plasmohq/messaging"),i=e("~tools/constants");let l={matches:["*://*.bilibili.com/video*","*://bilibili.com/video*"],run_at:"document_end",all_frames:!0,world:"MAIN"},c=document,u=window,d=c.querySelector(i.BWP_VIDEO);d&&d.addEventListener("timeupdate",function(){console.log("this.currentTime from getVideo.ts is ",this.currentTime);let e=this.currentTime,t=this.clientWidth;(0,s.sendToBackgroundViaRelay)({name:"subtitle-msg",body:{currentTime:e,msgType:"showSubtitle",clientWidth:t}}).then(e=>{})}),u.addEventListener("message",e=>{if("https://www.bilibili.com"===e.origin)switch(e.data.postMsgType){case i.KEY_DOWN:!function(e){if(e?.key&&(!e?.target||e?.target?.id!=="DraggableDict")){if(e.repeat)console.log(`\u91cd\u590d "${e.key}" \u952e [\u4e8b\u4ef6\uff1akeydown]`);else{if(console.log(`\u6309\u4e0b\u952e\u4e3a\uff1a`,e.key),e.key>0&&e.key<10&&(d.playbackRate=e.key),"Escape"===e.key&&r&&(clearInterval(r),d.playbackRate=1,d.play(),r=void 0,(0,a.toast).dismiss(),(0,a.toast)(`\u53d6\u6d88 \u91cd\u590d\u64ad\u653e \u6216 \u53d8\u901f\u64ad\u653e`)),"v"===e.key){let e=d.currentTime,t=d.clientWidth;(0,s.sendToBackgroundViaRelay)({name:"subtitle-msg",body:{currentTime:e,msgType:"showSubtitle",clientWidth:t,keyVPressed:!0}}).then(e=>{let{showSubtitleList:t}=e;(0,a.toast).dismiss(),t?(0,a.toast)("\u663e\u793a\u5b57\u5e55List"):(0,a.toast)("\u9690\u85cf\u5b57\u5e55List")})}if("s"===e.key){let e=d.currentTime,t=d.clientWidth;(0,s.sendToBackgroundViaRelay)({name:"subtitle-msg",body:{currentTime:e,msgType:"showSubtitle",clientWidth:t,keySPressed:!0}}).then(e=>{let{showSubtitle:t}=e;(0,a.toast).dismiss(),t?(0,a.toast)("\u663e\u793a\u5b57\u5e55"):(0,a.toast)("\u9690\u85cf\u5b57\u5e55")})}if("q"===e.key){let e=d.currentTime;(0,s.sendToBackgroundViaRelay)({name:"subtitle-msg",body:{currentTime:e,msgType:"repeat"}}).then(e=>{console.log("pre is ",e);let{start:t,end:o}=e,n=.5,s=10;d.currentTime=t,d.playbackRate=n,(0,a.toast).dismiss(),(0,a.toast)(`\u6fc0\u53d1\u64ad\u653e\uff0c\u5171${s+1}\u6b21\uff0c\u901f\u5ea6${d.playbackRate}`,{autoClose:(o-t)*1e3/d.playbackRate}),r=setInterval(()=>{d.currentTime>=o&&(d.currentTime=t,d.playbackRate=Number((n+=.1).toFixed(1)),s>0&&((0,a.toast).dismiss(),(0,a.toast)(`\u6fc0\u53d1\u64ad\u653e\uff0c\u8fd8\u5269 ${s} \u6b21\uff0c\u901f\u5ea6${d.playbackRate}`,{autoClose:(o-t)*1e3/d.playbackRate})),s--),s<0&&(clearInterval(r),d.playbackRate=1,(0,a.toast).dismiss(),(0,a.toast)(`\u6fc0\u53d1\u64ad\u653e\u7ed3\u675f\uff0c\u5f53\u524d\u901f\u5ea6${d.playbackRate}`,{autoClose:(o-t)*1e3/d.playbackRate}))},100)})}if("r"===e.key){let e=d.currentTime;(0,s.sendToBackgroundViaRelay)({name:"subtitle-msg",body:{currentTime:e,msgType:"repeat"}}).then(e=>{console.log("pre is ",e);let{start:t,end:o}=e;d.currentTime=t;let n=4;(0,a.toast).dismiss(),(0,a.toast)(`\u91cd\u590d\u64ad\u653e\u5f00\u59cb\uff0c\u5171${n+1}\u6b21`,{autoClose:(o-t)*1e3/d.playbackRate}),r=setInterval(()=>{d.currentTime>=o&&((0,a.toast).dismiss(),(0,a.toast)(`\u91cd\u590d\u64ad\u653e\uff0c\u8fd8\u5269 ${n} \u6b21`,{autoClose:(o-t)*1e3/d.playbackRate}),d.currentTime=t,n--),0===n&&clearInterval(r)},100)})}if("i"===e.key&&(d?.playbackRate<10?(d.playbackRate=Number((d.playbackRate+.1).toFixed(1)),(0,a.toast).dismiss(),(0,a.toast)(`\u64ad\u653e\u901f\u5ea6 +0.1 \u5f53\u524d\u64ad\u653e\u901f\u5ea6\uff1a${d.playbackRate}`)):((0,a.toast).dismiss(),(0,a.toast)(`\u5f53\u524d\u64ad\u653e\u901f\u5ea6${d.playbackRate}\uff0c\u4e0d\u80fd\u518d\u52a0\u4e86\uff01`))),"u"===e.key&&(d?.playbackRate>.2?(d.playbackRate=Number((d.playbackRate-.1).toFixed(1)),(0,a.toast).dismiss(),(0,a.toast)(`\u64ad\u653e\u901f\u5ea6 -0.1 \u5f53\u524d\u64ad\u653e\u901f\u5ea6\uff1a${d.playbackRate}`)):((0,a.toast).dismiss(),(0,a.toast)(`\u5f53\u524d\u64ad\u653e\u901f\u5ea6${d.playbackRate}\uff0c\u4e0d\u80fd\u518d\u51cf\u4e86\uff01`))),"j"===e.key){let e=d.currentTime;(0,s.sendToBackgroundViaRelay)({name:"subtitle-msg",body:{currentTime:e,msgType:"preSentence"}}).then(e=>{console.log("pre is ",e),d.currentTime=e,(0,a.toast).dismiss(),(0,a.toast)("\u4e0a\u4e00\u53e5")})}if("k"===e.key){let e=d.currentTime;(0,s.sendToBackgroundViaRelay)({name:"subtitle-msg",body:{currentTime:e,msgType:"nextSentence"}}).then(e=>{console.log("next is ",e),d.currentTime=e,(0,a.toast).dismiss(),(0,a.toast)("\u4e0b\u4e00\u53e5")})}}}}(e.data);break;case i.VIDEO_PAUSE:d.pause();break;case i.CLICK_SUBTITLE:{let{currentTime:t}=e.data;d.currentTime=t,d.play()}}},!1)},{"react-toastify":"jS86B","@plasmohq/messaging":"bq7mF","~tools/constants":"aHxh8","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],jS86B:[function(e,t,o){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(o),r.export(o,"Bounce",()=>D),r.export(o,"Flip",()=>V),r.export(o,"Icons",()=>$),r.export(o,"Slide",()=>j),r.export(o,"ToastContainer",()=>H),r.export(o,"Zoom",()=>M),r.export(o,"collapseToast",()=>p),r.export(o,"cssTransition",()=>y),r.export(o,"toast",()=>A),r.export(o,"useToast",()=>x),r.export(o,"useToastContainer",()=>S);var n=e("react"),a=r.interopDefault(n),s=e("clsx"),i=r.interopDefault(s);let l=e=>"number"==typeof e&&!isNaN(e),c=e=>"string"==typeof e,u=e=>"function"==typeof e,d=e=>c(e)||u(e)?e:null,f=e=>(0,n.isValidElement)(e)||c(e)||u(e)||l(e);function p(e,t,o){void 0===o&&(o=300);let{scrollHeight:r,style:n}=e;requestAnimationFrame(()=>{n.minHeight="initial",n.height=r+"px",n.transition=`all ${o}ms`,requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(t,o)})})}function y(e){let{enter:t,exit:o,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=e;return function(e){let{children:l,position:c,preventExitTransition:u,done:d,nodeRef:f,isIn:y,playToast:m}=e,g=r?`${t}--${c}`:t,h=r?`${o}--${c}`:o,b=(0,n.useRef)(0);return(0,n.useLayoutEffect)(()=>{let e=f.current,t=g.split(" "),o=r=>{r.target===f.current&&(m(),e.removeEventListener("animationend",o),e.removeEventListener("animationcancel",o),0===b.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",o),e.addEventListener("animationcancel",o)},[]),(0,n.useEffect)(()=>{let e=f.current,t=()=>{e.removeEventListener("animationend",t),s?p(e,d,i):d()};y||(u?t():(b.current=1,e.className+=` ${h}`,e.addEventListener("animationend",t)))},[y]),(0,a.default).createElement(a.default.Fragment,null,l)}}function m(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}let g=new Map,h=[],b=new Set,T=e=>b.forEach(t=>t(e)),v=()=>g.size>0;function E(e,t){var o;if(t)return!(null==(o=g.get(t))||!o.isToastActive(e));let r=!1;return g.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function _(e,t){f(e)&&(v()||h.push({content:e,options:t}),g.forEach(o=>{o.buildToast(e,t)}))}function I(e,t){g.forEach(o=>{null!=t&&null!=t&&t.containerId?(null==t?void 0:t.containerId)===o.id&&o.toggle(e,null==t?void 0:t.id):o.toggle(e,null==t?void 0:t.id)})}function S(e){let{subscribe:t,getSnapshot:o,setProps:r}=(0,n.useRef)(function(e){let t=e.containerId||1;return{subscribe(o){let r=function(e,t,o){let r=1,a=0,s=[],i=[],p=[],y=t,g=new Map,h=new Set,b=()=>{p=Array.from(g.values()),h.forEach(e=>e())},T=e=>{i=null==e?[]:i.filter(t=>t!==e),b()},v=e=>{let{toastId:t,onOpen:r,updateId:a,children:s}=e.props,l=null==a;e.staleId&&g.delete(e.staleId),g.set(t,e),i=[...i,e.props.toastId].filter(t=>t!==e.staleId),b(),o(m(e,l?"added":"updated")),l&&u(r)&&r((0,n.isValidElement)(s)&&s.props)};return{id:e,props:y,observe:e=>(h.add(e),()=>h.delete(e)),toggle:(e,t)=>{g.forEach(o=>{null!=t&&t!==o.props.toastId||u(o.toggle)&&o.toggle(e)})},removeToast:T,toasts:g,clearQueue:()=>{a-=s.length,s=[]},buildToast:(t,i)=>{var p,h;if((t=>{let{containerId:o,toastId:r,updateId:n}=t,a=g.has(r)&&null==n;return(o?o!==e:1!==e)||a})(i))return;let{toastId:E,updateId:_,data:I,staleId:S,delay:x}=i,k=()=>{T(E)},L=null==_;L&&a++;let R={...y,style:y.toastStyle,key:r++,...Object.fromEntries(Object.entries(i).filter(e=>{let[t,o]=e;return null!=o})),toastId:E,updateId:_,data:I,closeToast:k,isIn:!1,className:d(i.className||y.toastClassName),bodyClassName:d(i.bodyClassName||y.bodyClassName),progressClassName:d(i.progressClassName||y.progressClassName),autoClose:!i.isLoading&&(p=i.autoClose,h=y.autoClose,!1===p||l(p)&&p>0?p:h),deleteToast(){let e=g.get(E),{onClose:t,children:r}=e.props;u(t)&&t((0,n.isValidElement)(r)&&r.props),o(m(e,"removed")),g.delete(E),--a<0&&(a=0),s.length>0?v(s.shift()):b()}};R.closeButton=y.closeButton,!1===i.closeButton||f(i.closeButton)?R.closeButton=i.closeButton:!0===i.closeButton&&(R.closeButton=!f(y.closeButton)||y.closeButton);let w=t;(0,n.isValidElement)(t)&&!c(t.type)?w=(0,n.cloneElement)(t,{closeToast:k,toastProps:R,data:I}):u(t)&&(w=t({closeToast:k,toastProps:R,data:I}));let C={content:w,props:R,staleId:S};y.limit&&y.limit>0&&a>y.limit&&L?s.push(C):l(x)?setTimeout(()=>{v(C)},x):v(C)},setProps(e){y=e},setToggle:(e,t)=>{g.get(e).toggle=t},isToastActive:e=>i.some(t=>t===e),getSnapshot:()=>y.newestOnTop?p.reverse():p}}(t,e,T);g.set(t,r);let a=r.observe(o);return h.forEach(e=>_(e.content,e.options)),h=[],()=>{a(),g.delete(t)}},setProps(e){var o;null==(o=g.get(t))||o.setProps(e)},getSnapshot(){var e;return null==(e=g.get(t))?void 0:e.getSnapshot()}}}(e)).current;r(e);let a=(0,n.useSyncExternalStore)(t,o,o);return{getToastToRender:function(e){if(!a)return[];let t=new Map;return a.forEach(e=>{let{position:o}=e.props;t.has(o)||t.set(o,[]),t.get(o).push(e)}),Array.from(t,t=>e(t[0],t[1]))},isToastActive:E,count:null==a?void 0:a.length}}function x(e){var t,o;let[r,a]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1),l=(0,n.useRef)(null),c=(0,n.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:f,onClick:p,closeOnClick:y}=e;function m(){a(!0)}function h(){a(!1)}function b(t){let o=l.current;c.canDrag&&o&&(c.didMove=!0,r&&h(),c.delta="x"===e.draggableDirection?t.clientX-c.start:t.clientY-c.start,c.start!==t.clientX&&(c.canCloseOnClick=!1),o.style.transform=`translate3d(${"x"===e.draggableDirection?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`},0)`,o.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function T(){document.removeEventListener("pointermove",b),document.removeEventListener("pointerup",T);let t=l.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}null==(o=g.get((t={id:e.toastId,containerId:e.containerId,fn:a}).containerId||1))||o.setToggle(t.id,t.fn),(0,n.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||h(),window.addEventListener("focus",m),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",h)}},[e.pauseOnFocusLoss]);let v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){c.didMove=!1,document.addEventListener("pointermove",b),document.addEventListener("pointerup",T);let o=l.current;c.canCloseOnClick=!0,c.canDrag=!0,o.style.transition="none","x"===e.draggableDirection?(c.start=t.clientX,c.removalDistance=o.offsetWidth*(e.draggablePercent/100)):(c.start=t.clientY,c.removalDistance=o.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:o,bottom:r,left:n,right:a}=l.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=n&&t.clientX<=a&&t.clientY>=o&&t.clientY<=r?h():m()}};return u&&d&&(v.onMouseEnter=h,e.stacked||(v.onMouseLeave=m)),y&&(v.onClick=e=>{p&&p(e),c.canCloseOnClick&&f()}),{playToast:m,pauseToast:h,isRunning:r,preventExitTransition:s,toastRef:l,eventHandlers:v}}function k(e){let{delay:t,isRunning:o,closeToast:r,type:n="default",hide:s,className:l,style:c,controlledProgress:d,progress:f,rtl:p,isIn:y,theme:m}=e,g=s||d&&0===f,h={...c,animationDuration:`${t}ms`,animationPlayState:o?"running":"paused"};d&&(h.transform=`scaleX(${f})`);let b=(0,i.default)("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":p}),T=u(l)?l({rtl:p,type:n,defaultClassName:b}):(0,i.default)(b,l);return(0,a.default).createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},(0,a.default).createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${n}`}),(0,a.default).createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:T,style:h,[d&&f>=1?"onTransitionEnd":"onAnimationEnd"]:d&&f<1?null:()=>{y&&r()}}))}let L=1,R=()=>""+L++;function w(e,t){return _(e,t),t.toastId}function C(e,t){return{...t,type:t&&t.type||e,toastId:t&&(c(t.toastId)||l(t.toastId))?t.toastId:R()}}function O(e){return(t,o)=>w(t,C(e,o))}function A(e,t){return w(e,C("default",t))}A.loading=(e,t)=>w(e,C("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),A.promise=function(e,t,o){let r,{pending:n,error:a,success:s}=t;n&&(r=c(n)?A.loading(n,o):A.loading(n.render,{...o,...n}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,n)=>{if(null==t)return void A.dismiss(r);let a={type:e,...i,...o,data:n},s=c(t)?{render:t}:t;return r?A.update(r,{...a,...s}):A(s.render,{...a,...s}),n},d=u(e)?e():e;return d.then(e=>l("success",s,e)).catch(e=>l("error",a,e)),d},A.success=O("success"),A.info=O("info"),A.error=O("error"),A.warning=O("warning"),A.warn=A.warning,A.dark=(e,t)=>w(e,C("default",{theme:"dark",...t})),A.dismiss=function(e){!function(e){var t;if(v()){if(null==e||c(t=e)||l(t))g.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=g.get(e.containerId);t?t.removeToast(e.id):g.forEach(t=>{t.removeToast(e.id)})}}else h=h.filter(t=>null!=e&&t.options.toastId!==e)}(e)},A.clearWaitingQueue=function(e){void 0===e&&(e={}),g.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},A.isActive=E,A.update=function(e,t){void 0===t&&(t={});let o=((e,t)=>{var o;let{containerId:r}=t;return null==(o=g.get(r||1))?void 0:o.toasts.get(e)})(e,t);if(o){let{props:r,content:n}=o,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:R()};a.toastId!==e&&(a.staleId=e);let s=a.render||n;delete a.render,w(s,a)}},A.done=e=>{A.update(e,{progress:1})},A.onChange=function(e){return b.add(e),()=>{b.delete(e)}},A.play=e=>I(!0,e),A.pause=e=>I(!1,e);let N="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,B=e=>{let{theme:t,type:o,isLoading:r,...n}=e;return(0,a.default).createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${o})`,...n})},$={info:function(e){return(0,a.default).createElement(B,{...e},(0,a.default).createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return(0,a.default).createElement(B,{...e},(0,a.default).createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return(0,a.default).createElement(B,{...e},(0,a.default).createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return(0,a.default).createElement(B,{...e},(0,a.default).createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,a.default).createElement("div",{className:"Toastify__spinner"})}},P=e=>{let{isRunning:t,preventExitTransition:o,toastRef:r,eventHandlers:s,playToast:l}=x(e),{closeButton:c,children:d,autoClose:f,onClick:p,type:y,hideProgressBar:m,closeToast:g,transition:h,position:b,className:T,style:v,bodyClassName:E,bodyStyle:_,progressClassName:I,progressStyle:S,updateId:L,role:R,progress:w,rtl:C,toastId:O,deleteToast:A,isIn:N,isLoading:B,closeOnClick:P,theme:U}=e,D=(0,i.default)("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":P}),j=u(T)?T({rtl:C,position:b,type:y,defaultClassName:D}):(0,i.default)(D,T),M=function(e){let{theme:t,type:o,isLoading:r,icon:a}=e,s=null,i={theme:t,type:o};return!1===a||(u(a)?s=a({...i,isLoading:r}):(0,n.isValidElement)(a)?s=(0,n.cloneElement)(a,i):r?s=$.spinner():o in $&&(s=$[o](i))),s}(e),V=!!w||!f,F={closeToast:g,type:y,theme:U},H=null;return!1===c||(H=u(c)?c(F):(0,n.isValidElement)(c)?(0,n.cloneElement)(c,F):function(e){let{closeToast:t,theme:o,ariaLabel:r="close"}=e;return(0,a.default).createElement("button",{className:`Toastify__close-button Toastify__close-button--${o}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},(0,a.default).createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,a.default).createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(F)),(0,a.default).createElement(h,{isIn:N,done:A,position:b,preventExitTransition:o,nodeRef:r,playToast:l},(0,a.default).createElement("div",{id:O,onClick:p,"data-in":N,className:j,...s,style:v,ref:r},(0,a.default).createElement("div",{...N&&{role:R},className:u(E)?E({type:y}):(0,i.default)("Toastify__toast-body",E),style:_},null!=M&&(0,a.default).createElement("div",{className:(0,i.default)("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},M),(0,a.default).createElement("div",null,d)),H,(0,a.default).createElement(k,{...L&&!V?{key:`pb-${L}`}:{},rtl:C,theme:U,delay:f,isRunning:t,isIn:N,closeToast:g,hide:m,type:y,style:S,className:I,controlledProgress:V,progress:w||0})))},U=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},D=y(U("bounce",!0)),j=y(U("slide",!0)),M=y(U("zoom")),V=y(U("flip")),F={position:"top-right",transition:D,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function H(e){let t={...F,...e},o=e.stacked,[r,s]=(0,n.useState)(!0),l=(0,n.useRef)(null),{getToastToRender:c,isToastActive:f,count:p}=S(t),{className:y,style:m,rtl:g,containerId:h}=t;function b(){o&&(s(!0),A.play())}return N(()=>{if(o){var e;let o=l.current.querySelectorAll('[data-in="true"]'),n=null==(e=t.position)?void 0:e.includes("top"),a=0,s=0;Array.from(o).reverse().forEach((e,t)=>{e.classList.add("Toastify__toast--stacked"),t>0&&(e.dataset.collapsed=`${r}`),e.dataset.pos||(e.dataset.pos=n?"top":"bot");let o=a*(r?.2:1)+(r?0:12*t);e.style.setProperty("--y",`${n?o:-1*o}px`),e.style.setProperty("--g","12"),e.style.setProperty("--s",""+(1-(r?s:0))),a+=e.offsetHeight,s+=.025})}},[r,p,o]),(0,a.default).createElement("div",{ref:l,className:"Toastify",id:h,onMouseEnter:()=>{o&&(s(!1),A.pause())},onMouseLeave:b},c((e,t)=>{let r=t.length?{...m}:{...m,pointerEvents:"none"};return(0,a.default).createElement("div",{className:function(e){let t=(0,i.default)("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":g});return u(y)?y({position:e,rtl:g,defaultClassName:t}):(0,i.default)(t,d(y))}(e),style:r,key:`container-${e}`},t.map(e=>{let{content:t,props:r}=e;return(0,a.default).createElement(P,{...r,stacked:o,collapseAll:b,isIn:f(r.toastId,r.containerId),style:r.style,key:`toast-${r.key}`},t)}))}))}},{react:"34kvN",clsx:"8kiPU","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],"34kvN":[function(e,t,o){t.exports=e("ae0ab14aecd941d7")},{ae0ab14aecd941d7:"eNFzo"}],eNFzo:[function(e,t,o){var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,h={};function b(e,t,o){this.props=e,this.context=t,this.refs=h,this.updater=o||m}function T(){}function v(e,t,o){this.props=e,this.context=t,this.refs=h,this.updater=o||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=b.prototype;var E=v.prototype=new T;E.constructor=v,g(E,b.prototype),E.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,o){var n,a={},s=null,i=null;if(null!=t)for(n in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)I.call(t,n)&&!x.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(1===l)a.children=o;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===a[n]&&(a[n]=l[n]);return{$$typeof:r,type:e,key:s,ref:i,props:a,_owner:S.current}}function L(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var R=/\/+/g;function w(e,t){var o,r;return"object"==typeof e&&null!==e&&null!=e.key?(o=""+e.key,r={"=":"=0",":":"=2"},"$"+o.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function C(e,t,o){if(null==e)return e;var a=[],s=0;return function e(t,o,a,s,i){var l,c,u,d=typeof t;("undefined"===d||"boolean"===d)&&(t=null);var f=!1;if(null===t)f=!0;else switch(d){case"string":case"number":f=!0;break;case"object":switch(t.$$typeof){case r:case n:f=!0}}if(f)return i=i(f=t),t=""===s?"."+w(f,0):s,_(i)?(a="",null!=t&&(a=t.replace(R,"$&/")+"/"),e(i,o,a,"",function(e){return e})):null!=i&&(L(i)&&(l=i,c=a+(!i.key||f&&f.key===i.key?"":(""+i.key).replace(R,"$&/")+"/")+t,i={$$typeof:r,type:l.type,key:c,ref:l.ref,props:l.props,_owner:l._owner}),o.push(i)),1;if(f=0,s=""===s?".":s+":",_(t))for(var p=0;p<t.length;p++){var m=s+w(d=t[p],p);f+=e(d,o,a,m,i)}else if("function"==typeof(m=null===(u=t)||"object"!=typeof u?null:"function"==typeof(u=y&&u[y]||u["@@iterator"])?u:null))for(t=m.call(t),p=0;!(d=t.next()).done;)m=s+w(d=d.value,p++),f+=e(d,o,a,m,i);else if("object"===d)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(o=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return f}(e,a,"","",function(e){return t.call(o,e,s++)}),a}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},N={transition:null};o.Children={map:C,forEach:function(e,t,o){C(e,function(){t.apply(this,arguments)},o)},count:function(e){var t=0;return C(e,function(){t++}),t},toArray:function(e){return C(e,function(e){return e})||[]},only:function(e){if(!L(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},o.Component=b,o.Fragment=a,o.Profiler=i,o.PureComponent=v,o.StrictMode=s,o.Suspense=d,o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:N,ReactCurrentOwner:S},o.cloneElement=function(e,t,o){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=g({},e.props),a=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)I.call(t,c)&&!x.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=o;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:r,type:e.type,key:a,ref:s,props:n,_owner:i}},o.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},o.createElement=k,o.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},o.createRef=function(){return{current:null}},o.forwardRef=function(e){return{$$typeof:u,render:e}},o.isValidElement=L,o.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},o.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},o.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},o.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},o.useCallback=function(e,t){return A.current.useCallback(e,t)},o.useContext=function(e){return A.current.useContext(e)},o.useDebugValue=function(){},o.useDeferredValue=function(e){return A.current.useDeferredValue(e)},o.useEffect=function(e,t){return A.current.useEffect(e,t)},o.useId=function(){return A.current.useId()},o.useImperativeHandle=function(e,t,o){return A.current.useImperativeHandle(e,t,o)},o.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},o.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},o.useMemo=function(e,t){return A.current.useMemo(e,t)},o.useReducer=function(e,t,o){return A.current.useReducer(e,t,o)},o.useRef=function(e){return A.current.useRef(e)},o.useState=function(e){return A.current.useState(e)},o.useSyncExternalStore=function(e,t,o){return A.current.useSyncExternalStore(e,t,o)},o.useTransition=function(){return A.current.useTransition()},o.version="18.2.0"},{}],"8kiPU":[function(e,t,o){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");function n(){for(var e,t,o=0,r="",n=arguments.length;o<n;o++)(e=arguments[o])&&(t=function e(t){var o,r,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var a=t.length;for(o=0;o<a;o++)t[o]&&(r=e(t[o]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r)}return n}(e))&&(r&&(r+=" "),r+=t);return r}r.defineInteropFlag(o),r.export(o,"clsx",()=>n),o.default=n},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],hbR2Q:[function(e,t,o){o.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},o.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.exportAll=function(e,t){return Object.keys(e).forEach(function(o){"default"===o||"__esModule"===o||t.hasOwnProperty(o)||Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[o]}})}),t},o.export=function(e,t,o){Object.defineProperty(e,t,{enumerable:!0,get:o})}},{}],bq7mF:[function(e,t,o){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(o),r.export(o,"relay",()=>m),r.export(o,"relayMessage",()=>y),r.export(o,"sendToActiveContentScript",()=>p),r.export(o,"sendToBackground",()=>d),r.export(o,"sendToBackgroundViaRelay",()=>g),r.export(o,"sendToContentScript",()=>f),r.export(o,"sendViaRelay",()=>h);var n=e("nanoid"),a=globalThis.browser?.tabs||globalThis.chrome?.tabs,s=()=>{let e=globalThis.browser?.runtime||globalThis.chrome?.runtime;if(!e)throw Error("Extension runtime is not available");return e},i=()=>{if(!a)throw Error("Extension tabs API is not available");return a},l=async()=>{let e=i(),[t]=await e.query({active:!0,currentWindow:!0});return t},c=(e,t)=>!t.__internal&&e.source===globalThis.window&&e.data.name===t.name&&(void 0===t.relayId||e.data.relayId===t.relayId),u=(e,t,o=globalThis.window)=>{let r=async r=>{if(c(r,e)&&!r.data.relayed){let n={name:e.name,relayId:e.relayId,body:r.data.body},a=await t?.(n);o.postMessage({name:e.name,relayId:e.relayId,instanceId:r.data.instanceId,body:a,relayed:!0},{targetOrigin:e.targetOrigin||"/"})}};return o.addEventListener("message",r),()=>o.removeEventListener("message",r)},d=async e=>s().sendMessage(e.extensionId??null,e),f=async e=>{let t="number"==typeof e.tabId?e.tabId:(await l())?.id;if(!t)throw Error("No active tab found to send message to.");return i().sendMessage(t,e)},p=f,y=e=>u(e,d),m=y,g=(e,t=globalThis.window)=>new Promise((o,r)=>{let a=(0,n.nanoid)(),s=new AbortController;t.addEventListener("message",t=>{c(t,e)&&t.data.relayed&&t.data.instanceId===a&&(o(t.data.body),s.abort())},{signal:s.signal}),t.postMessage({...e,instanceId:a},{targetOrigin:e.targetOrigin||"/"})}),h=g},{nanoid:"WGs0a","@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],WGs0a:[function(e,t,o){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(o),r.export(o,"urlAlphabet",()=>n.urlAlphabet),r.export(o,"random",()=>a),r.export(o,"customRandom",()=>s),r.export(o,"customAlphabet",()=>i),r.export(o,"nanoid",()=>l);var n=e("./url-alphabet/index.js");let a=e=>crypto.getRandomValues(new Uint8Array(e)),s=(e,t,o)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,n=-~(1.6*r*t/e.length);return (a=t)=>{let s="";for(;;){let t=o(n),i=n;for(;i--;)if((s+=e[t[i]&r]||"").length===a)return s}}},i=(e,t=21)=>s(e,t,a),l=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"")},{"./url-alphabet/index.js":!1,"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}],aHxh8:[function(e,t,o){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(o),r.export(o,"SUBTITLE_LIST_PADDING_SIZE",()=>n),r.export(o,"SUBTITLE_LIST_WIDTH",()=>a),r.export(o,"SUBTITLE_LIST_HEIGHT",()=>s),r.export(o,"DRAGGABLE_HANDLE_HEIGHT",()=>i),r.export(o,"CLOSE_SVG_REM_COUNT",()=>l),r.export(o,"SUBTITLE_LIST_ROW_HEIGHT",()=>c),r.export(o,"BWP_VIDEO",()=>u),r.export(o,"VIDEO_PAUSE",()=>d),r.export(o,"KEY_DOWN",()=>f),r.export(o,"CLICK_SUBTITLE",()=>p),r.export(o,"SENT_BILIBILI_AI_SUBTITLE_URL",()=>y),r.export(o,"INIT_SUBTITLENODES",()=>m),r.export(o,"NO_SUBTITLENODES_DATA",()=>g),r.export(o,"FILTER_SUBTITLE_IN_WEBREQUEST",()=>h),r.export(o,"FILTER_SUBTITLE_IN_YOUTUBE_URL",()=>b),r.export(o,"SENT_YOUTUBE_SUBTITLE_API_URL",()=>T),r.export(o,"TOAST_CONTAINER_STYLE",()=>v),r.export(o,"NEXT",()=>E),r.export(o,"PRE",()=>_),r.export(o,"ADD",()=>I),r.export(o,"SUB",()=>S),r.export(o,"VIDEO_MASK",()=>x),r.export(o,"SUB_MASK",()=>k),r.export(o,"REPEAT",()=>L),r.export(o,"VARIABLE_REPEAT",()=>R),r.export(o,"FOLLOW_READ",()=>w),r.export(o,"FULL_MASK",()=>C),r.export(o,"SUBTITLE_LIST",()=>O),r.export(o,"SUBTITLE",()=>A),r.export(o,"STORAGE_SHOWSUBTITLE",()=>N),r.export(o,"STORAGE_SHOWSUBTITLELIST",()=>B),r.export(o,"STORAGE_SHOWVIDEOMASK",()=>$),r.export(o,"STORAGE_SHOWSUBTITLELISTMASK",()=>P),r.export(o,"STORAGE_ALL_SHORTCUTS",()=>U),r.export(o,"STORAGE_VIDEO_MASK_HEIGHT",()=>D),r.export(o,"ALL_SHORT_CUTS",()=>j);let n=5,a=300,s=500,i=16,l=2,c=36,u="bwp-video",d="VIDEO_PAUSE",f="KEY_DOWN",p="CLICK_SUBTITLE",y="SENT_BILIBILI_AI_SUBTITLE_URL",m="INIT_SUBTITLENODES",g="NO_SUBTITLENODES_DATA",h="api.bilibili.com/x/player/wbi/v2",b=".com/api/timedtext",T="SENT_YOUTUBE_SUBTITLE_API_URL",v=`
  .Toastify__toast-container.Toastify__toast-container--top-center {
    --toastify-color-light: #fff;
    --toastify-color-dark: #121212;
    --toastify-color-info: #3498db;
    --toastify-color-success: #07bc0c;
    --toastify-color-warning: #f1c40f;
    --toastify-color-error: #e74c3c;
    --toastify-color-transparent: hsla(0,0%,100%,.7);
    --toastify-icon-color-info: var(--toastify-color-info);
    --toastify-icon-color-success: var(--toastify-color-success);
    --toastify-icon-color-warning: var(--toastify-color-warning);
    --toastify-icon-color-error: var(--toastify-color-error);
    --toastify-toast-width: 320px;
    --toastify-toast-background: #fff;
    --toastify-toast-min-height: 64px;
    --toastify-toast-max-height: 800px;
    --toastify-font-family: sans-serif;
    --toastify-z-index: 9999;
    --toastify-text-color-light: #757575;
    --toastify-text-color-dark: #fff;
    --toastify-text-color-info: #fff;
    --toastify-text-color-success: #fff;
    --toastify-text-color-warning: #fff;
    --toastify-text-color-error: #fff;
    --toastify-spinner-color: #616161;
    --toastify-spinner-color-empty-area: #e0e0e0;
    --toastify-color-progress-light: linear-gradient(90deg,#4cd964,#5ac8fa,#007aff,#34aadc,#5856d6,#ff2d55);
    --toastify-color-progress-dark: #bb86fc;
    --toastify-color-progress-info: var(--toastify-color-info);
    --toastify-color-progress-success: var(--toastify-color-success);
    --toastify-color-progress-warning: var(--toastify-color-warning);
    --toastify-color-progress-error: var(--toastify-color-error);
    --toastify-color-progress-bgo: 0.3;
}`,E="K",_="J",I="I",S="U",x="H",k="L",L="R",R="Q",w="F",C="A",O="V",A="S",N="showSubtitle",B="showSubtitleList",$="showVideoMask",P="showSubtitleListMask",U="allShortcuts",D="videoMaskHeight",j={next:E,pre:_,add:I,sub:S,videoMask:x,subMask:k,repeat:L,variableRepeat:R,followRead:w,fullMask:C,subtitleList:O,subtitle:A}},{"@parcel/transformer-js/src/esmodule-helpers.js":"hbR2Q"}]},["3Eq6o"],"3Eq6o","parcelRequiree1df"),globalThis.define=t;