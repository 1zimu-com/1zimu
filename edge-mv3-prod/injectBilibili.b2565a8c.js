var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,o,r,s,i){var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n="function"==typeof l[s]&&l[s],_=n.cache||{},a="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function T(e,o){if(!_[e]){if(!t[e]){var r="function"==typeof l[s]&&l[s];if(!o&&r)return r(e,!0);if(n)return n(e,!0);if(a&&"string"==typeof e)return a(e);var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}p.resolve=function(o){var r=t[e][1][o];return null!=r?r:o},p.cache={};var E=_[e]=new T.Module(e);t[e][0].call(E.exports,p,E,E.exports,this)}return _[e].exports;function p(e){var t=p.resolve(e);return!1===t?{}:T(t)}}T.isParcelRequire=!0,T.Module=function(e){this.id=e,this.bundle=T,this.exports={}},T.modules=t,T.cache=_,T.parent=n,T.register=function(e,o){t[e]=[function(e,t){t.exports=o},{}]},Object.defineProperty(T,"root",{get:function(){return l[s]}}),l[s]=T;for(var E=0;E<o.length;E++)T(o[E]);if(r){var p=T(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof e&&e.amd?e(function(){return p}):i&&(this[i]=p)}}({"903XX":[function(e,t,o){var r=e("~tools/constants");let s=window,i=document;!function(e){let t=XMLHttpRequest.prototype,o=t.open,l=t.send,n=t.setRequestHeader;t.open=function(e,t){return this._method=e,this._url=t,this._requestHeaders={},this._startTime=new Date().toISOString(),o.apply(this,arguments)},t.setRequestHeader=function(e,t){return this._requestHeaders[e]=t,n.apply(this,arguments)},t.send=function(e){return this.addEventListener("load",function(){if("string"!=typeof this?._url)return;let t=(this?._url,this._url.toLowerCase());if(t&&t.includes(r.FILTER_SUBTITLE_IN_WEBREQUEST)){if(e&&"string"==typeof e)try{this._requestHeaders=e}catch(e){console.error("ERROR from inject.ts\u3002Request Header JSON decode failed, transfer_encoding field could be base64",e)}if(this.getAllResponseHeaders(),!this?.responseType.toLowerCase().includes("blob")&&!this?.responseType.toLowerCase().includes("arraybuffer")&&!this?.responseType.toLowerCase().includes("json")&&this?.responseText)try{let e=this.responseText;if("object"!=typeof e&&"ok"!==e&&e){let t=JSON.parse(e);if(t?.data?.subtitle?.subtitles){let e=t.data.subtitle.subtitles,o="",l="",n="",_="";s.postMessage({postMsgType:r.INIT_SUBTITLENODES},i.baseURI);for(let t=0;t<e.length;t++){let r=e[t];if(1===r.type){if(r.lan.includes("en")){let e=`https:${r.subtitle_url}`;o=e}else if(r.lan.includes("zh")){let e=`https:${r.subtitle_url}`;l=e}}if(0===r.type){if(r.lan.includes("en")){let e=`https:${r.subtitle_url}`;n=e}else if(r.lan.includes("zh")){let e=`https:${r.subtitle_url}`;_=e}}}o?.length>0&&l?.length>0&&n?.length>0&&_?.length>0?s.postMessage({postMsgType:r.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:n,zhStrUrl:_},i.baseURI):o?.length>0&&l?.length>0&&(!(n?.length>0)||!(_?.length>0))?s.postMessage({postMsgType:r.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:o,zhStrUrl:l},i.baseURI):n?.length>0&&_?.length>0&&(!(o?.length>0)||!(l?.length>0))?s.postMessage({postMsgType:r.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:n,zhStrUrl:_},i.baseURI):l?.length>0&&!(o?.length>0)?s.postMessage({postMsgType:r.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:"",zhStrUrl:l},i.baseURI):!(l?.length>0)&&o?.length>0?s.postMessage({postMsgType:r.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:o,zhStrUrl:""},i.baseURI):_?.length>0&&!(n?.length>0)?s.postMessage({postMsgType:r.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:"",zhStrUrl:_},i.baseURI):!(_?.length>0)&&n?.length>0?s.postMessage({postMsgType:r.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:n,zhStrUrl:""},i.baseURI):s.postMessage({postMsgType:r.NO_SUBTITLENODES_DATA},i.baseURI)}}}catch(e){console.error("Error in responseType try catch"),console.error(e)}}}),l.apply(this,arguments)}}(XMLHttpRequest)},{"~tools/constants":"DgB7r"}],DgB7r:[function(e,t,o){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(o),r.export(o,"SUBTITLE_LIST_PADDING_SIZE",()=>s),r.export(o,"SUBTITLE_LIST_WIDTH",()=>i),r.export(o,"SUBTITLE_LIST_HEIGHT",()=>l),r.export(o,"DRAGGABLE_HANDLE_HEIGHT",()=>n),r.export(o,"CLOSE_SVG_REM_COUNT",()=>_),r.export(o,"SUBTITLE_LIST_ROW_HEIGHT",()=>a),r.export(o,"BWP_VIDEO",()=>T),r.export(o,"VIDEO_PAUSE",()=>E),r.export(o,"KEY_DOWN",()=>p),r.export(o,"CLICK_SUBTITLE",()=>I),r.export(o,"SENT_BILIBILI_AI_SUBTITLE_URL",()=>f),r.export(o,"INIT_SUBTITLENODES",()=>S),r.export(o,"NO_SUBTITLENODES_DATA",()=>c),r.export(o,"FILTER_SUBTITLE_IN_WEBREQUEST",()=>L),r.export(o,"FILTER_SUBTITLE_IN_YOUTUBE_URL",()=>u),r.export(o,"SENT_YOUTUBE_SUBTITLE_API_URL",()=>A),r.export(o,"TOAST_CONTAINER_STYLE",()=>U),r.export(o,"NEXT",()=>O),r.export(o,"PRE",()=>d),r.export(o,"ADD",()=>R),r.export(o,"SUB",()=>g),r.export(o,"VIDEO_MASK",()=>h),r.export(o,"SUB_MASK",()=>x),r.export(o,"REPEAT",()=>y),r.export(o,"VARIABLE_REPEAT",()=>B),r.export(o,"FOLLOW_READ",()=>D),r.export(o,"FULL_MASK",()=>b),r.export(o,"SUBTITLE_LIST",()=>M),r.export(o,"SUBTITLE",()=>N),r.export(o,"ZHSUBTITLE",()=>G),r.export(o,"STORAGE_SHOWSUBTITLE",()=>m),r.export(o,"STORAGE_SHOWZHSUBTITLE",()=>H),r.export(o,"STORAGE_SHOWSUBTITLELIST",()=>C),r.export(o,"STORAGE_SHOWVIDEOMASK",()=>v),r.export(o,"STORAGE_SHOWSUBTITLELISTMASK",()=>w),r.export(o,"STORAGE_SHOWFLOATBALL",()=>F),r.export(o,"STORAGE_ALL_SHORTCUTS",()=>W),r.export(o,"STORAGE_VIDEO_MASK_HEIGHT",()=>K),r.export(o,"STORAGE_DEFAULT_VIDEO_MASK_HEIGHT",()=>P),r.export(o,"STORAGE_FOLLOW_READ_TIMES",()=>V),r.export(o,"STORAGE_DEFAULT_FOLLOW_READ_TIMES",()=>j),r.export(o,"STORAGE_FOLLOW_READ_LENGTH",()=>k),r.export(o,"STORAGE_DEFAULT_FOLLOW_READ_LENGTH",()=>z),r.export(o,"STORAGE_POST_IDLETIME_ACTIVETIME_LOCK",()=>q),r.export(o,"STORAGE_IDLETIME_VIDEO_ACTIVETIME",()=>Y),r.export(o,"STORAGE_IDLETIME_DRAGGABLEDICT_ACTIVETIME",()=>X),r.export(o,"STORAGE_IDLETIME_DRAGGABLESUBTITLELIST_ACTIVETIME",()=>Z),r.export(o,"STORAGE_IDLETIME_NEXTJSSUBTITLELIST_ACTIVETIME",()=>J),r.export(o,"STORAGE_MASK_BACKDROP_BLUR_SHOW",()=>$),r.export(o,"STORAGE_DEFAULT_MASK_BACKDROP_BLUR_SHOW",()=>Q),r.export(o,"STORAGE_MASK_BACKDROP_BLUR_COLOR",()=>ee),r.export(o,"STORAGE_DEFAULT_MASK_BACKDROP_BLUR_COLOR",()=>et),r.export(o,"IDLETIME_STORAGE_DEFAULT_VALUE",()=>eo),r.export(o,"ALL_SHORT_CUTS",()=>er),r.export(o,"COLOR_PRIMARY",()=>es),r.export(o,"FONT_SIZE",()=>ei),r.export(o,"FONT_FAMILY",()=>el),r.export(o,"FONT_WEIGHT",()=>en),r.export(o,"LINE_HEIGHT",()=>e_),r.export(o,"ZIMU1_USESTORAGE_SYNC_JWT",()=>ea),r.export(o,"ZIMU1_USESTORAGE_SYNC_HEADIMGURL",()=>eT),r.export(o,"ZIMU1_USESTORAGE_SYNC_NICKNAME",()=>eE),r.export(o,"DRAGGABLE_NODE_CONTAINER_WIDTH",()=>ep),r.export(o,"DRAGGABLE_NODE_CONTAINER_HEIGHT",()=>eI),r.export(o,"DRAGGABLE_NODE_CONTAINER_X",()=>ef),r.export(o,"DRAGGABLE_NODE_CONTAINER_Y",()=>eS),r.export(o,"IDLE_TIME_OUT",()=>ec);let s=5,i=300,l=500,n=16,_=2,a=36,T="bwp-video",E="VIDEO_PAUSE",p="KEY_DOWN",I="CLICK_SUBTITLE",f="SENT_BILIBILI_AI_SUBTITLE_URL",S="INIT_SUBTITLENODES",c="NO_SUBTITLENODES_DATA",L="api.bilibili.com/x/player/wbi/v2",u=".com/api/timedtext",A="SENT_YOUTUBE_SUBTITLE_API_URL",U=`
  .Toastify__toast-container.Toastify__toast-container--top-center {
    --toastify-color-light: #fff;
    --toastify-color-dark: #121212;
    --toastify-color-info: #3498db;
    --toastify-color-success: #07bc0c;
    --toastify-color-warning: #f1c40f;
    --toastify-color-error: #e74c3c;
    --toastify-color-transparent: hsla(0,0%,100%,.7);
    --toastify-icon-color-info: var(--toastify-color-info);
    --toastify-icon-color-success: var(--toastify-color-success);
    --toastify-icon-color-warning: var(--toastify-color-warning);
    --toastify-icon-color-error: var(--toastify-color-error);
    --toastify-toast-width: 320px;
    --toastify-toast-background: #fff;
    --toastify-toast-min-height: 64px;
    --toastify-toast-max-height: 800px;
    --toastify-font-family: sans-serif;
    --toastify-z-index: 9999;
    --toastify-text-color-light: #757575;
    --toastify-text-color-dark: #fff;
    --toastify-text-color-info: #fff;
    --toastify-text-color-success: #fff;
    --toastify-text-color-warning: #fff;
    --toastify-text-color-error: #fff;
    --toastify-spinner-color: #616161;
    --toastify-spinner-color-empty-area: #e0e0e0;
    --toastify-color-progress-light: linear-gradient(90deg,#4cd964,#5ac8fa,#007aff,#34aadc,#5856d6,#ff2d55);
    --toastify-color-progress-dark: #bb86fc;
    --toastify-color-progress-info: var(--toastify-color-info);
    --toastify-color-progress-success: var(--toastify-color-success);
    --toastify-color-progress-warning: var(--toastify-color-warning);
    --toastify-color-progress-error: var(--toastify-color-error);
    --toastify-color-progress-bgo: 0.3;
}`,O="K",d="J",R="I",g="U",h="H",x="L",y="R",B="Q",D="F",b="A",M="V",N="S",G="C",m="showSubtitle",H="showZhSubtitle",C="showSubtitleList",v="showVideoMask",w="showSubtitleListMask",F="showFloatBall",W="allShortcuts",K="videoMaskHeight",P=80,V="followReadTimes",j=3,k="followReadLength",z=1.5,q="storage_post_idletime_activetime_lock",Y="idleTimeVideoActivetime",X="idleTimeDraggableDictActivetime",Z="idleTimeDraggableSubListActivetime",J="idleTimeNextjsSubListActivetime",$="maskBackdropBlurPxValue",Q=!0,ee="maskBackdropBlurColor",et="rgba(255, 255, 255, 0.3)",eo={default:""},er={next:O,pre:d,add:R,sub:g,videoMask:h,subMask:x,repeat:y,variableRepeat:B,followRead:D,fullMask:b,subtitleList:M,subtitle:N,zhSubtitle:G},es="#16a34a",ei="21px",el='ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";',en="700",e_="1.25",ea="zimu1_useStorage_sync_jwt",eT="zimu1_useStorage_sync_headimgurl",eE="zimu1_useStorage_sync_nickname",ep=1e3,eI=480,ef=150,eS=150,ec=30},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(e,t,o){o.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},o.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.exportAll=function(e,t){return Object.keys(e).forEach(function(o){"default"===o||"__esModule"===o||t.hasOwnProperty(o)||Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[o]}})}),t},o.export=function(e,t,o){Object.defineProperty(e,t,{enumerable:!0,get:o})}},{}]},["903XX"],"903XX","parcelRequiree1df"),globalThis.define=t;