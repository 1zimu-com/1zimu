var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,o,T,_,r){var E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},I="function"==typeof E[_]&&E[_],i=I.cache||{},s="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function S(e,o){if(!i[e]){if(!t[e]){var T="function"==typeof E[_]&&E[_];if(!o&&T)return T(e,!0);if(I)return I(e,!0);if(s&&"string"==typeof e)return s(e);var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}l.resolve=function(o){var T=t[e][1][o];return null!=T?T:o},l.cache={};var p=i[e]=new S.Module(e);t[e][0].call(p.exports,l,p,p.exports,this)}return i[e].exports;function l(e){var t=l.resolve(e);return!1===t?{}:S(t)}}S.isParcelRequire=!0,S.Module=function(e){this.id=e,this.bundle=S,this.exports={}},S.modules=t,S.cache=i,S.parent=I,S.register=function(e,o){t[e]=[function(e,t){t.exports=o},{}]},Object.defineProperty(S,"root",{get:function(){return E[_]}}),E[_]=S;for(var p=0;p<o.length;p++)S(o[p]);if(T){var l=S(T);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof e&&e.amd?e(function(){return l}):r&&(this[r]=l)}}({"903XX":[function(e,t,o){var T=e("~tools/constants");let _=window,r=document;!function(e){let t=XMLHttpRequest.prototype,o=t.open,E=t.send,I=t.setRequestHeader;t.open=function(e,t){return this._method=e,this._url=t,this._requestHeaders={},this._startTime=new Date().toISOString(),o.apply(this,arguments)},t.setRequestHeader=function(e,t){return this._requestHeaders[e]=t,I.apply(this,arguments)},t.send=function(e){return this.addEventListener("load",function(){if("string"!=typeof this?._url)return;let t=(this?._url,this._url.toLowerCase());if(t&&t.includes(T.FILTER_SUBTITLE_IN_WEBREQUEST)){if(e&&"string"==typeof e)try{this._requestHeaders=e}catch(e){console.error("ERROR from inject.ts\u3002Request Header JSON decode failed, transfer_encoding field could be base64",e)}if(this.getAllResponseHeaders(),!this?.responseType.toLowerCase().includes("blob")&&!this?.responseType.toLowerCase().includes("arraybuffer")&&!this?.responseType.toLowerCase().includes("json")&&this?.responseText)try{let e=this.responseText;if("object"!=typeof e&&"ok"!==e&&e){let t=JSON.parse(e);if(t?.data?.subtitle?.subtitles){let e=t.data.subtitle.subtitles,o="",E="",I="",i="";_.postMessage({postMsgType:T.INIT_SUBTITLENODES},r.baseURI);for(let t=0;t<e.length;t++){let T=e[t];if(1===T.type){if(T.lan.includes("en")){let e=`https:${T.subtitle_url}`;o=e}else if(T.lan.includes("zh")){let e=`https:${T.subtitle_url}`;E=e}}if(0===T.type){if(T.lan.includes("en")){let e=`https:${T.subtitle_url}`;I=e}else if(T.lan.includes("zh")){let e=`https:${T.subtitle_url}`;i=e}}}o?.length>0&&E?.length>0&&I?.length>0&&i?.length>0?_.postMessage({postMsgType:T.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:I,zhStrUrl:i},r.baseURI):o?.length>0&&E?.length>0&&(!(I?.length>0)||!(i?.length>0))?_.postMessage({postMsgType:T.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:o,zhStrUrl:E},r.baseURI):I?.length>0&&i?.length>0&&(!(o?.length>0)||!(E?.length>0))?_.postMessage({postMsgType:T.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:I,zhStrUrl:i},r.baseURI):E?.length>0&&!(o?.length>0)?_.postMessage({postMsgType:T.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:"",zhStrUrl:E},r.baseURI):!(E?.length>0)&&o?.length>0?_.postMessage({postMsgType:T.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:o,zhStrUrl:""},r.baseURI):i?.length>0&&!(I?.length>0)?_.postMessage({postMsgType:T.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:"",zhStrUrl:i},r.baseURI):!(i?.length>0)&&I?.length>0?_.postMessage({postMsgType:T.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:I,zhStrUrl:""},r.baseURI):_.postMessage({postMsgType:T.NO_SUBTITLENODES_DATA},r.baseURI)}}}catch(e){console.error("Error in responseType try catch"),console.error(e)}}}),E.apply(this,arguments)}}(XMLHttpRequest)},{"~tools/constants":"DgB7r"}],DgB7r:[function(e,t,o){var T=e("@parcel/transformer-js/src/esmodule-helpers.js");T.defineInteropFlag(o),T.export(o,"SUBTITLE_LIST_PADDING_SIZE",()=>_),T.export(o,"SUBTITLE_LIST_WIDTH",()=>r),T.export(o,"DEFAULT_ROW_HEIGHT",()=>E),T.export(o,"SUBTITLE_LIST_TTS_TEXT_WIDTH",()=>I),T.export(o,"SUBTITLE_LIST_HEIGHT",()=>i),T.export(o,"DRAGGABLE_HANDLE_HEIGHT",()=>s),T.export(o,"CLOSE_SVG_REM_COUNT",()=>S),T.export(o,"SUBTITLE_LIST_ROW_HEIGHT",()=>p),T.export(o,"BWP_VIDEO",()=>l),T.export(o,"VIDEO_PAUSE",()=>L),T.export(o,"KEY_DOWN",()=>A),T.export(o,"CLICK_SUBTITLE",()=>n),T.export(o,"SENT_BILIBILI_AI_SUBTITLE_URL",()=>a),T.export(o,"SENT_YOUTUBE_SUBTITLE_API_URL",()=>O),T.export(o,"SENT_BAIDUPAN_SUBTITLE_API_URL",()=>u),T.export(o,"INIT_SUBTITLENODES",()=>U),T.export(o,"NO_SUBTITLENODES_DATA",()=>R),T.export(o,"FILTER_SUBTITLE_IN_WEBREQUEST",()=>x),T.export(o,"FILTER_SUBTITLE_URL_IN_BAIDUPAN_1",()=>B),T.export(o,"FILTER_SUBTITLE_URL_IN_BAIDUPAN_2",()=>c),T.export(o,"FILTER_SUBTITLE_IN_YOUTUBE_URL",()=>d),T.export(o,"NEXT",()=>D),T.export(o,"PRE",()=>N),T.export(o,"ADD",()=>b),T.export(o,"SUB",()=>f),T.export(o,"VIDEO_MASK",()=>M),T.export(o,"SUB_MASK",()=>g),T.export(o,"REPEAT",()=>h),T.export(o,"VARIABLE_REPEAT",()=>G),T.export(o,"FOLLOW_READ",()=>m),T.export(o,"FULL_MASK",()=>C),T.export(o,"SUBTITLE_LIST",()=>y),T.export(o,"SUBTITLE",()=>H),T.export(o,"ZHSUBTITLE",()=>F),T.export(o,"DEFAULT_MAX_PAUSE_TIME",()=>P),T.export(o,"STORAGE_RANDOMUUID",()=>w),T.export(o,"STORAGE_ALWAY_REPEAT_PLAY",()=>V),T.export(o,"STORAGE_PLAYED_THEN_PAUSE",()=>v),T.export(o,"STORAGE_SHOW_EN_DEFINITION",()=>W),T.export(o,"STORAGE_REPLAY_TIMES",()=>Y),T.export(o,"STORAGE_MAX_PAUSE_TIME",()=>z),T.export(o,"STORAGE_SUBTITLELIST_TABS_KEY",()=>K),T.export(o,"STORAGE_SUBTITLELIST_LANGUAGE_MODE_TO_SHOW",()=>Z),T.export(o,"STORAGE_SUBTITLELIST_TABS_SCROLL",()=>j),T.export(o,"STORAGE_SHOWSUBTITLE",()=>X),T.export(o,"STORAGE_SHOWZHSUBTITLE",()=>k),T.export(o,"STORAGE_SHOWSUBTITLELIST",()=>q),T.export(o,"STORAGE_SHOWTTSSUBTITLELIST",()=>J),T.export(o,"STORAGE_DRAGGABLESUBTITLELISTX",()=>$),T.export(o,"STORAGE_DRAGGABLESUBTITLELISTY",()=>Q),T.export(o,"STORAGE_BILIBILI_TRANSLATE_SELECT_LANG",()=>ee),T.export(o,"STORAGE_SHOWVIDEOMASK",()=>et),T.export(o,"STORAGE_SHOWSUBTITLELISTMASK",()=>eo),T.export(o,"STORAGE_SHOWFLOATBALL",()=>eT),T.export(o,"STORAGE_DISABLESHORTCUTS",()=>e_),T.export(o,"STORAGE_ALL_SHORTCUTS",()=>er),T.export(o,"STORAGE_VIDEO_MASK_HEIGHT",()=>eE),T.export(o,"STORAGE_DEFAULT_VIDEO_MASK_HEIGHT",()=>eI),T.export(o,"STORAGE_FOLLOW_READ_TIMES",()=>ei),T.export(o,"STORAGE_DEFAULT_FOLLOW_READ_TIMES",()=>es),T.export(o,"STORAGE_FOLLOW_READ_LENGTH",()=>eS),T.export(o,"STORAGE_DEFAULT_FOLLOW_READ_LENGTH",()=>ep),T.export(o,"STORAGE_POST_IDLETIME_ACTIVETIME_LOCK",()=>el),T.export(o,"STORAGE_IDLETIME_VIDEO_ACTIVETIME",()=>eL),T.export(o,"STORAGE_IDLETIME_DRAGGABLESUBTITLELIST_ACTIVETIME",()=>eA),T.export(o,"STORAGE_IDLETIME_NEXTJSSUBTITLELIST_ACTIVETIME",()=>en),T.export(o,"STORAGE_IDLETIME_DRAGGABLEDICT_ACTIVETIME",()=>ea),T.export(o,"STORAGE_IDLETIME_YOUTUBESUBTITLELIST_ACTIVETIME",()=>eO),T.export(o,"STORAGE_IDLETIME_VIDEO_ACTIVETIME_OTHER",()=>eu),T.export(o,"STORAGE_IDLETIME_VIDEO_ACTIVETIME_YOUTUBE",()=>eU),T.export(o,"STORAGE_IDLETIME_VIDEO_ACTIVETIME_BILIBILI",()=>eR),T.export(o,"STORAGE_IDLETIME_VIDEO_ACTIVETIME_1ZIMU",()=>ex),T.export(o,"STORAGE_IDLETIME_VIDEO_ACTIVETIME_BAIDUPAN",()=>eB),T.export(o,"STORAGE_AZURE_KEY_CODE",()=>ec),T.export(o,"STORAGE_AZURE_KEY_AREA",()=>ed),T.export(o,"STORAGE_FAVORITES_DICTS",()=>eD),T.export(o,"STORAGE_MASK_BACKDROP_BLUR_SHOW",()=>eN),T.export(o,"STORAGE_DEFAULT_MASK_BACKDROP_BLUR_SHOW",()=>eb),T.export(o,"STORAGE_MASK_BACKDROP_BLUR_COLOR",()=>ef),T.export(o,"STORAGE_DEFAULT_MASK_BACKDROP_BLUR_COLOR",()=>eM),T.export(o,"STORAGE_USER_INFO",()=>eg),T.export(o,"IDLETIME_STORAGE_DEFAULT_VALUE",()=>eh),T.export(o,"FAVORITES_DICTS_DEFAULT_VALUE",()=>eG),T.export(o,"ALL_SHORT_CUTS",()=>em),T.export(o,"COLOR_PRIMARY",()=>eC),T.export(o,"FONT_SIZE",()=>ey),T.export(o,"FONT_SANS",()=>eH),T.export(o,"FONT_SERIF",()=>eF),T.export(o,"FONT_MONO",()=>eP),T.export(o,"SUBTITLE_FONT_FAMILY",()=>ew),T.export(o,"FONT_WEIGHT",()=>eV),T.export(o,"LINE_HEIGHT",()=>ev),T.export(o,"ZIMU1_USESTORAGE_SYNC_JWT",()=>eW),T.export(o,"ZIMU1_USESTORAGE_SYNC_HEADIMGURL",()=>eY),T.export(o,"ZIMU1_USESTORAGE_SYNC_NICKNAME",()=>ez),T.export(o,"ZIMU1_USESTORAGE_SYNC_PAID",()=>eK),T.export(o,"DRAGGABLE_NODE_CONTAINER_WIDTH",()=>eZ),T.export(o,"DRAGGABLE_NODE_CONTAINER_HEIGHT",()=>ej),T.export(o,"DRAGGABLE_NODE_CONTAINER_X",()=>eX),T.export(o,"DRAGGABLE_NODE_CONTAINER_Y",()=>ek),T.export(o,"IDLE_TIME_OUT",()=>eq),T.export(o,"DARK_BG_COLOR",()=>eJ),T.export(o,"REPEAT_INIT_TIMES",()=>e$),T.export(o,"REPEAT_UI_INIT_TIMES",()=>eQ),T.export(o,"VARIABLE_REPEAT_INIT_TIMES",()=>e0),T.export(o,"VARIABLE_REPEAT_UI_INIT_TIMES",()=>e1),T.export(o,"YOUTUBE_SUBTITLELIST_WATCH_URL",()=>e3),T.export(o,"YOUTUBE_SUBTITLELIST_WATCH_URL_EMBED",()=>e5),T.export(o,"ZIMU1_SUBTITLELIST_WATCH_URL",()=>e2),T.export(o,"CASCADER_OPTION_MIX",()=>e6),T.export(o,"CASCADER_OPTION_ZH",()=>e8),T.export(o,"CASCADER_OPTION_FOREIGN",()=>e4),T.export(o,"STORAGE_SUBTITLE_FOREIGN_FONTSIZE",()=>e7),T.export(o,"STORAGE_SUBTITLE_ZH_FONTSIZE",()=>e9),T.export(o,"SUBTITLE_FOREIGN_FONT_SIZE",()=>te),T.export(o,"STORAGE_SUBTITLELIST_FOREIGN_FONTSIZE",()=>tt),T.export(o,"STORAGE_SUBTITLELIST_ZH_FONTSIZE",()=>to),T.export(o,"STORAGE_ARTICLE_FONTSIZE",()=>tT),T.export(o,"STORAGE_SUBTITLE_FONT_FAMILY",()=>t_),T.export(o,"STORAGE_SUBTITLE_NO",()=>tr),T.export(o,"STORAGE_SUBTITLE_NO_CURRENT_TIME",()=>tE),T.export(o,"BILIBILI_COM",()=>tI),T.export(o,"YOUTUBE_COM",()=>ti),T.export(o,"ZIMU1_COM",()=>ts),T.export(o,"PAN_BAIDU_COM",()=>tS),T.export(o,"PAN_BAIDU_COM_VIDEO",()=>tp),T.export(o,"YOUTUBESUBTITLELIST",()=>tl),T.export(o,"NEXTJSSUBTITLELIST",()=>tL),T.export(o,"BILIBILISUBTITLESWITCH",()=>tA),T.export(o,"YOUTUBESUBTITLESWITCH",()=>tn),T.export(o,"BAIDUPANSUBTITLESWITCH",()=>ta),T.export(o,"DRAGGABLESUBTITLELIST",()=>tO),T.export(o,"YOUTUBE_VALID_ORIGINS",()=>tu),T.export(o,"BILIBILI_VALID_ORIGINS",()=>tU),T.export(o,"ZIMU1_VALID_ORIGINS",()=>tR),T.export(o,"BAIDUPAN_VALID_ORIGINS",()=>tx),T.export(o,"JWT_IS_FALSE",()=>tB);let _=1,r=300,E=80,I=600,i=500,s=16,S=2,p=36,l="bwp-video",L="VIDEO_PAUSE",A="KEY_DOWN",n="CLICK_SUBTITLE",a="SENT_BILIBILI_AI_SUBTITLE_URL",O="SENT_YOUTUBE_SUBTITLE_API_URL",u="SENT_BAIDUPAN_SUBTITLE_API_URL",U="INIT_SUBTITLENODES",R="NO_SUBTITLENODES_DATA",x="api.bilibili.com/x/player/wbi/v2",B="/api/streaming",c="M3U8_SUBTITLE_SRT",d=".com/api/timedtext",D="K",N="J",b="I",f="U",M="H",g="L",h="R",G="Q",m="F",C="A",y="V",H="S",F="C",P=20,w="storage_randomUUID",V="alwaysRepeatPlay",v="playedThenPause",W="showEnDefinition",Y="storage_replay_times",z="storage_max_pause_time",K="subtitlelistTabsKey",Z="subtitlelistLanguageModeToShow",j="subtitlelistTabsScroll",X="showSubtitle",k="showZhSubtitle",q="showSubtitleList",J="showTTSSubtitleList",$="draggableSubtitleListX",Q="draggableSubtitleListY",ee="bilibiliTranslateSelectLang",et="showVideoMask",eo="showSubtitleListMask",eT="showFloatBall",e_="disableShortcuts",er="allShortcuts",eE="videoMaskHeight",eI=80,ei="followReadTimes",es=3,eS="followReadLength",ep=1.5,el="storage_post_idletime_activetime_lock",eL="idleTimeVideoActivetime",eA="idleTimeDraggableSubListActivetime",en="idleTimeNextjsSubListActivetime",ea="idleTimeDraggableDictActivetime",eO="idleTimeYoutubeSubListActivetime",eu="idleTimeVideoActivetimeOther",eU="idleTimeVideoActivetimeYoutube",eR="idleTimeVideoActivetimeBilibili",ex="idleTimeVideoActivetime1zimu",eB="idleTimeVideoActivetimeBaidupan",ec="storage_azure_key_code",ed="storage_azure_key_area",eD="storage_favorites_dicts",eN="maskBackdropBlurPxValue",eb=!0,ef="maskBackdropBlurColor",eM="rgba(255, 255, 255, 0.3)",eg="storage_user_info",eh={default:""},eG=[],em={next:D,pre:N,add:b,sub:f,videoMask:M,subMask:g,repeat:h,variableRepeat:G,followRead:m,fullMask:C,subtitleList:y,subtitle:H,zhSubtitle:F},eC="#16a34a",ey="21px",eH='ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";',eF='ui-serif, Georgia, Cambria, "Times New Roman", Times, serif',eP='ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',ew=[{value:1,label:"font-sans",origin:eH},{value:2,label:"font-serif",origin:eF},{value:3,label:"font-mono",origin:eP}],eV="700",ev="1.25",eW="zimu1_useStorage_sync_jwt",eY="zimu1_useStorage_sync_headimgurl",ez="zimu1_useStorage_sync_nickname",eK="zimu1_useStorage_sync_paid",eZ=1e3,ej=480,eX=150,ek=150,eq=30,eJ="#1e1e1e",e$=5,eQ=e$+1,e0=10,e1=e0+1,e3="youtube.com/watch",e5="youtube.com/embed",e2="1zimu.com/player",e6="mix",e8="zh",e4="foreign",e7="storageSubtitleForeignFontsize",e9="storageSubtitleZhFontsize",te=16,tt="storageSubtitlelistForeignFontsize",to="storageSubtitlelistZhFontsize",tT="storageArticleFontsize",t_="storage_subtitle_font_family",tr="storage_subtitle_no",tE="storage_subtitle_no_current_time",tI="bilibili.com",ti="youtube.com",ts="1zimu.com",tS="pan.baidu.com",tp="pan.baidu.com/pfile/video",tl="YoutubeSubtitleList",tL="NextjsSubtitleList",tA="BilibiliSubtitleSwitch",tn="YoutubeSubtitleSwitch",ta="BaidupanSubtitleSwitch",tO="DraggableSubtitleList",tu=["https://www.youtube.com","https://youtube.com"],tU=["https://www.bilibili.com","https://bilibili.com"],tR=["https://www.1zimu.com","https://1zimu.com"],tx=["https://pan.baidu.com/pfile/video","https://pan.baidu.com"],tB="jwt is false"},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(e,t,o){o.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},o.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.exportAll=function(e,t){return Object.keys(e).forEach(function(o){"default"===o||"__esModule"===o||t.hasOwnProperty(o)||Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[o]}})}),t},o.export=function(e,t,o){Object.defineProperty(e,t,{enumerable:!0,get:o})}},{}]},["903XX"],"903XX","parcelRequiree1df"),globalThis.define=t;