var t,e;"function"==typeof(t=globalThis.define)&&(e=t,t=null),function(e,o,r,s,i){var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof n[s]&&n[s],f=a.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,o){if(!f[t]){if(!e[t]){var r="function"==typeof n[s]&&n[s];if(!o&&r)return r(t,!0);if(a)return a(t,!0);if(l&&"string"==typeof t)return l(t);var i=Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}u.resolve=function(o){var r=e[t][1][o];return null!=r?r:o},u.cache={};var p=f[t]=new c.Module(t);e[t][0].call(p.exports,u,p,p.exports,this)}return f[t].exports;function u(t){var e=u.resolve(t);return!1===e?{}:c(e)}}c.isParcelRequire=!0,c.Module=function(t){this.id=t,this.bundle=c,this.exports={}},c.modules=e,c.cache=f,c.parent=a,c.register=function(t,o){e[t]=[function(t,e){e.exports=o},{}]},Object.defineProperty(c,"root",{get:function(){return n[s]}}),n[s]=c;for(var p=0;p<o.length;p++)c(o[p]);if(r){var u=c(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=u:"function"==typeof t&&t.amd?t(function(){return u}):i&&(this[i]=u)}}({"903XX":[function(t,e,o){var r=t("~tools/constants");let s=window,i=document;!function(t){let e=XMLHttpRequest.prototype,o=e.open,n=e.send,a=e.setRequestHeader;e.open=function(t,e){return this._method=t,this._url=e,this._requestHeaders={},this._startTime=new Date().toISOString(),o.apply(this,arguments)},e.setRequestHeader=function(t,e){return this._requestHeaders[t]=e,a.apply(this,arguments)},e.send=function(t){return this.addEventListener("load",function(){let e=this._url?this._url.toLowerCase():this._url;if(e&&e.includes(r.FILTER_SUBTITLE_IN_WEBREQUEST)){if(t&&"string"==typeof t)try{this._requestHeaders=t}catch(t){console.error("ERROR from inject.ts\u3002Request Header JSON decode failed, transfer_encoding field could be base64",t)}if(this.getAllResponseHeaders(),!this?.responseType.toLowerCase().includes("blob")&&!this?.responseType.toLowerCase().includes("arraybuffer")&&!this?.responseType.toLowerCase().includes("json")&&this?.responseText)try{let t=this.responseText;if("object"!=typeof t&&"ok"!==t&&t){let e=JSON.parse(t);if(e?.data?.subtitle?.subtitles){let t=e.data.subtitle.subtitles,o="",n="";s.postMessage({postMsgType:r.INIT_SUBTITLENODES},i.baseURI);for(let e=0;e<t.length;e++){let r=t[e];if(r.lan.includes("en")){let t=`https:${r.subtitle_url}`;o=t}else if(r.lan.includes("zh")){let t=`https:${r.subtitle_url}`;n=t}}o.length>0?s.postMessage({postMsgType:r.SENT_BILIBILI_AI_SUBTITLE_URL,srtUrl:o,zhStrUrl:n},i.baseURI):s.postMessage({postMsgType:r.NO_SUBTITLENODES_DATA},i.baseURI)}}}catch(t){console.error("Error in responseType try catch"),console.error(t)}}}),n.apply(this,arguments)}}(XMLHttpRequest)},{"~tools/constants":"DgB7r"}],DgB7r:[function(t,e,o){var r=t("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(o),r.export(o,"SUBTITLE_LIST_PADDING_SIZE",()=>s),r.export(o,"SUBTITLE_LIST_WIDTH",()=>i),r.export(o,"SUBTITLE_LIST_HEIGHT",()=>n),r.export(o,"DRAGGABLE_HANDLE_HEIGHT",()=>a),r.export(o,"CLOSE_SVG_REM_COUNT",()=>f),r.export(o,"SUBTITLE_LIST_ROW_HEIGHT",()=>l),r.export(o,"BWP_VIDEO",()=>c),r.export(o,"VIDEO_PAUSE",()=>p),r.export(o,"KEY_DOWN",()=>u),r.export(o,"CLICK_SUBTITLE",()=>T),r.export(o,"SENT_BILIBILI_AI_SUBTITLE_URL",()=>_),r.export(o,"INIT_SUBTITLENODES",()=>d),r.export(o,"NO_SUBTITLENODES_DATA",()=>E),r.export(o,"FILTER_SUBTITLE_IN_WEBREQUEST",()=>I),r.export(o,"FILTER_SUBTITLE_IN_YOUTUBE_URL",()=>S),r.export(o,"SENT_YOUTUBE_SUBTITLE_API_URL",()=>y),r.export(o,"TOAST_CONTAINER_STYLE",()=>L),r.export(o,"NEXT",()=>h),r.export(o,"PRE",()=>x),r.export(o,"ADD",()=>U),r.export(o,"SUB",()=>O),r.export(o,"VIDEO_MASK",()=>b),r.export(o,"SUB_MASK",()=>g),r.export(o,"REPEAT",()=>R),r.export(o,"VARIABLE_REPEAT",()=>B),r.export(o,"FOLLOW_READ",()=>A),r.export(o,"FULL_MASK",()=>N),r.export(o,"SUBTITLE_LIST",()=>D),r.export(o,"SUBTITLE",()=>H),r.export(o,"STORAGE_SHOWSUBTITLE",()=>v),r.export(o,"STORAGE_SHOWSUBTITLELIST",()=>w),r.export(o,"STORAGE_SHOWVIDEOMASK",()=>M),r.export(o,"STORAGE_SHOWSUBTITLELISTMASK",()=>m),r.export(o,"STORAGE_ALL_SHORTCUTS",()=>P),r.export(o,"STORAGE_VIDEO_MASK_HEIGHT",()=>C),r.export(o,"ALL_SHORT_CUTS",()=>G);let s=5,i=300,n=500,a=16,f=2,l=36,c="bwp-video",p="VIDEO_PAUSE",u="KEY_DOWN",T="CLICK_SUBTITLE",_="SENT_BILIBILI_AI_SUBTITLE_URL",d="INIT_SUBTITLENODES",E="NO_SUBTITLENODES_DATA",I="api.bilibili.com/x/player/wbi/v2",S=".com/api/timedtext",y="SENT_YOUTUBE_SUBTITLE_API_URL",L=`
  .Toastify__toast-container.Toastify__toast-container--top-center {
    --toastify-color-light: #fff;
    --toastify-color-dark: #121212;
    --toastify-color-info: #3498db;
    --toastify-color-success: #07bc0c;
    --toastify-color-warning: #f1c40f;
    --toastify-color-error: #e74c3c;
    --toastify-color-transparent: hsla(0,0%,100%,.7);
    --toastify-icon-color-info: var(--toastify-color-info);
    --toastify-icon-color-success: var(--toastify-color-success);
    --toastify-icon-color-warning: var(--toastify-color-warning);
    --toastify-icon-color-error: var(--toastify-color-error);
    --toastify-toast-width: 320px;
    --toastify-toast-background: #fff;
    --toastify-toast-min-height: 64px;
    --toastify-toast-max-height: 800px;
    --toastify-font-family: sans-serif;
    --toastify-z-index: 9999;
    --toastify-text-color-light: #757575;
    --toastify-text-color-dark: #fff;
    --toastify-text-color-info: #fff;
    --toastify-text-color-success: #fff;
    --toastify-text-color-warning: #fff;
    --toastify-text-color-error: #fff;
    --toastify-spinner-color: #616161;
    --toastify-spinner-color-empty-area: #e0e0e0;
    --toastify-color-progress-light: linear-gradient(90deg,#4cd964,#5ac8fa,#007aff,#34aadc,#5856d6,#ff2d55);
    --toastify-color-progress-dark: #bb86fc;
    --toastify-color-progress-info: var(--toastify-color-info);
    --toastify-color-progress-success: var(--toastify-color-success);
    --toastify-color-progress-warning: var(--toastify-color-warning);
    --toastify-color-progress-error: var(--toastify-color-error);
    --toastify-color-progress-bgo: 0.3;
}`,h="K",x="J",U="I",O="U",b="H",g="L",R="R",B="Q",A="F",N="A",D="V",H="S",v="showSubtitle",w="showSubtitleList",M="showVideoMask",m="showSubtitleListMask",P="allShortcuts",C="videoMaskHeight",G={next:h,pre:x,add:U,sub:O,videoMask:b,subMask:g,repeat:R,variableRepeat:B,followRead:A,fullMask:N,subtitleList:D,subtitle:H}},{"@parcel/transformer-js/src/esmodule-helpers.js":"cHUbl"}],cHUbl:[function(t,e,o){o.interopDefault=function(t){return t&&t.__esModule?t:{default:t}},o.defineInteropFlag=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.exportAll=function(t,e){return Object.keys(t).forEach(function(o){"default"===o||"__esModule"===o||e.hasOwnProperty(o)||Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[o]}})}),e},o.export=function(t,e,o){Object.defineProperty(t,e,{enumerable:!0,get:o})}},{}]},["903XX"],"903XX","parcelRequiree1df"),globalThis.define=e;